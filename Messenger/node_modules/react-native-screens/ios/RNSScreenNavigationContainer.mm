#import "RNSScreenNavigationContainer.h"
#import "RNSScreen.h"
#import "RNSScreenContainer.h"

#ifdef RCT_NEW_ARCH_ENABLED
#import <React/RCTFabricComponentsPlugins.h>
#import <react/renderer/components/rnscreens/ComponentDescriptors.h>
#import <react/renderer/components/rnscreens/Props.h>
<<<<<<< HEAD

namespace react = facebook::react;
#endif // RCT_NEW_ARCH_ENABLED

@implementation RNSContainerNavigationController
=======
#endif

@implementation RNScreensContainerNavigationController
>>>>>>> 0d1933275d2b5e2439887122b1bf0baa959acf95

@end

@implementation RNSScreenNavigationContainerView

- (void)setupController
{
<<<<<<< HEAD
  self.controller = [[RNSContainerNavigationController alloc] init];
  [(RNSContainerNavigationController *)self.controller setNavigationBarHidden:YES animated:NO];
=======
  self.controller = [[RNScreensContainerNavigationController alloc] init];
  [(RNScreensContainerNavigationController *)self.controller setNavigationBarHidden:YES animated:NO];
>>>>>>> 0d1933275d2b5e2439887122b1bf0baa959acf95
  [self addSubview:self.controller.view];
}

- (void)updateContainer
{
  for (RNSScreenView *screen in self.reactSubviews) {
    if (screen.activityState == RNSActivityStateOnTop) {
      // there should never be more than one screen with `RNSActivityStateOnTop`
      // since this component should be used for `tabs` and `drawer` navigators
<<<<<<< HEAD
      [(RNSContainerNavigationController *)self.controller setViewControllers:@[ screen.controller ] animated:NO];
=======
      [(RNScreensContainerNavigationController *)self.controller setViewControllers:@[ screen.controller ] animated:NO];
>>>>>>> 0d1933275d2b5e2439887122b1bf0baa959acf95
      [screen notifyFinishTransitioning];
    }
  }

  [self maybeDismissVC];
}

#pragma mark-- Fabric specific
#ifdef RCT_NEW_ARCH_ENABLED
<<<<<<< HEAD
+ (react::ComponentDescriptorProvider)componentDescriptorProvider
{
  return react::concreteComponentDescriptorProvider<react::RNSScreenNavigationContainerComponentDescriptor>();
=======
+ (facebook::react::ComponentDescriptorProvider)componentDescriptorProvider
{
  return facebook::react::concreteComponentDescriptorProvider<
      facebook::react::RNSScreenNavigationContainerComponentDescriptor>();
>>>>>>> 0d1933275d2b5e2439887122b1bf0baa959acf95
}
#endif

@end

#ifdef RCT_NEW_ARCH_ENABLED
Class<RCTComponentViewProtocol> RNSScreenNavigationContainerCls(void)
{
  return RNSScreenNavigationContainerView.class;
}
#endif

@implementation RNSScreenNavigationContainerManager

RCT_EXPORT_MODULE()

- (UIView *)view
{
  return [[RNSScreenNavigationContainerView alloc] init];
}

@end
