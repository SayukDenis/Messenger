{"version":3,"file":"CountrySelect.js","names":["React","useCallback","useMemo","PropTypes","classNames","getUnicodeFlagIcon","CountrySelect","value","onChange","options","disabled","readOnly","rest","onChange_","event","target","undefined","selectedOption","getSelectedOption","map","label","divider","DIVIDER_STYLE","propTypes","string","func","isRequired","arrayOf","shape","bool","fontSize","backgroundColor","color","CountrySelectWithIcon","className","Icon","iconComponent","getIconAspectRatio","arrowComponent","Arrow","DefaultArrowComponent","unicodeFlags","elementType","option"],"sources":["../source/CountrySelect.js"],"sourcesContent":["import React, { useCallback, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport getUnicodeFlagIcon from 'country-flag-icons/unicode'\r\n\r\nexport default function CountrySelect({\r\n\tvalue,\r\n\tonChange,\r\n\toptions,\r\n\tdisabled,\r\n\treadOnly,\r\n\t...rest\r\n}) {\r\n\tconst onChange_ = useCallback((event) => {\r\n\t\tconst value = event.target.value\r\n\t\tonChange(value === 'ZZ' ? undefined : value)\r\n\t}, [onChange])\r\n\r\n\tconst selectedOption = useMemo(() => {\r\n\t\treturn getSelectedOption(options, value)\r\n\t}, [options, value])\r\n\r\n\t// \"ZZ\" means \"International\".\r\n\t// (HTML requires each `<option/>` have some string `value`).\r\n\treturn (\r\n\t\t<select\r\n\t\t\t{...rest}\r\n\t\t\tdisabled={disabled || readOnly}\r\n\t\t\treadOnly={readOnly}\r\n\t\t\tvalue={value || 'ZZ'}\r\n\t\t\tonChange={onChange_}>\r\n\t\t\t{options.map(({ value, label, divider }) => (\r\n\t\t\t\t<option\r\n\t\t\t\t\tkey={divider ? '|' : value || 'ZZ'}\r\n\t\t\t\t\tvalue={divider ? '|' : value || 'ZZ'}\r\n\t\t\t\t\tdisabled={divider ? true : false}\r\n\t\t\t\t\tstyle={divider ? DIVIDER_STYLE : undefined}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</option>\r\n\t\t\t))}\r\n\t\t</select>\r\n\t)\r\n}\r\n\r\nCountrySelect.propTypes = {\r\n\t/**\r\n\t * A two-letter country code.\r\n\t * Example: \"US\", \"RU\", etc.\r\n\t */\r\n\tvalue: PropTypes.string,\r\n\r\n\t/**\r\n\t * A function of `value: string`.\r\n\t * Updates the `value` property.\r\n\t */\r\n\tonChange: PropTypes.func.isRequired,\r\n\r\n\t// `<select/>` options.\r\n\toptions: PropTypes.arrayOf(PropTypes.shape({\r\n\t\tvalue: PropTypes.string,\r\n\t\tlabel: PropTypes.string,\r\n\t\tdivider: PropTypes.bool\r\n\t})).isRequired,\r\n\r\n\t// `readonly` attribute doesn't work on a `<select/>`.\r\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/419#issuecomment-1764384480\r\n\t// https://www.delftstack.com/howto/html/html-select-readonly/\r\n\t// To work around that, if `readOnly: true` property is passed\r\n\t// to this component, it behaves analogous to `disabled: true`.\r\n\tdisabled: PropTypes.bool,\r\n\treadOnly: PropTypes.bool\r\n}\r\n\r\nconst DIVIDER_STYLE = {\r\n\tfontSize: '1px',\r\n\tbackgroundColor: 'currentColor',\r\n\tcolor: 'inherit'\r\n}\r\n\r\nexport function CountrySelectWithIcon({\r\n\tvalue,\r\n\toptions,\r\n\tclassName,\r\n\ticonComponent: Icon,\r\n\tgetIconAspectRatio,\r\n\tarrowComponent: Arrow = DefaultArrowComponent,\r\n\tunicodeFlags,\r\n\t...rest\r\n}) {\r\n\tconst selectedOption = useMemo(() => {\r\n\t\treturn getSelectedOption(options, value)\r\n\t}, [options, value])\r\n\r\n\treturn (\r\n\t\t<div className=\"PhoneInputCountry\">\r\n\t\t\t<CountrySelect\r\n\t\t\t\t{...rest}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tclassName={classNames('PhoneInputCountrySelect', className)}/>\r\n\r\n\t\t\t{/* Either a Unicode flag icon. */}\r\n\t\t\t{(unicodeFlags && value) &&\r\n\t\t\t\t<div className=\"PhoneInputCountryIconUnicode\">\r\n\t\t\t\t\t{getUnicodeFlagIcon(value)}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t\t{/* Or an SVG flag icon. */}\r\n\t\t\t{!(unicodeFlags && value) &&\r\n\t\t\t\t<Icon\r\n\t\t\t\t\taria-hidden\r\n\t\t\t\t\tcountry={value}\r\n\t\t\t\t\tlabel={selectedOption && selectedOption.label}\r\n\t\t\t\t\taspectRatio={unicodeFlags ? 1 : undefined}/>\r\n\t\t\t}\r\n\r\n\t\t\t<Arrow/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCountrySelectWithIcon.propTypes = {\r\n\t// Country flag component.\r\n\ticonComponent: PropTypes.elementType,\r\n\r\n\t// Select arrow component.\r\n\tarrowComponent: PropTypes.elementType,\r\n\r\n\t// Set to `true` to render Unicode flag icons instead of SVG images.\r\n\tunicodeFlags: PropTypes.bool\r\n}\r\n\r\nfunction DefaultArrowComponent() {\r\n\treturn <div className=\"PhoneInputCountrySelectArrow\"/>\r\n}\r\n\r\nfunction getSelectedOption(options, value) {\r\n\tfor (const option of options) {\r\n\t\tif (!option.divider && option.value === value) {\r\n\t\t\treturn option\r\n\t\t}\r\n\t}\r\n}"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,OAA7B,QAA4C,OAA5C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,kBAAP,MAA+B,4BAA/B;AAEA,eAAe,SAASC,aAAT,OAOZ;EAAA,IANFC,KAME,QANFA,KAME;EAAA,IALFC,QAKE,QALFA,QAKE;EAAA,IAJFC,OAIE,QAJFA,OAIE;EAAA,IAHFC,QAGE,QAHFA,QAGE;EAAA,IAFFC,QAEE,QAFFA,QAEE;EAAA,IADCC,IACD;;EACF,IAAMC,SAAS,GAAGZ,WAAW,CAAC,UAACa,KAAD,EAAW;IACxC,IAAMP,KAAK,GAAGO,KAAK,CAACC,MAAN,CAAaR,KAA3B;IACAC,QAAQ,CAACD,KAAK,KAAK,IAAV,GAAiBS,SAAjB,GAA6BT,KAA9B,CAAR;EACA,CAH4B,EAG1B,CAACC,QAAD,CAH0B,CAA7B;EAKA,IAAMS,cAAc,GAAGf,OAAO,CAAC,YAAM;IACpC,OAAOgB,iBAAiB,CAACT,OAAD,EAAUF,KAAV,CAAxB;EACA,CAF6B,EAE3B,CAACE,OAAD,EAAUF,KAAV,CAF2B,CAA9B,CANE,CAUF;EACA;;EACA,oBACC,2CACKK,IADL;IAEC,QAAQ,EAAEF,QAAQ,IAAIC,QAFvB;IAGC,QAAQ,EAAEA,QAHX;IAIC,KAAK,EAAEJ,KAAK,IAAI,IAJjB;IAKC,QAAQ,EAAEM;EALX,IAMEJ,OAAO,CAACU,GAAR,CAAY;IAAA,IAAGZ,KAAH,SAAGA,KAAH;IAAA,IAAUa,KAAV,SAAUA,KAAV;IAAA,IAAiBC,OAAjB,SAAiBA,OAAjB;IAAA,oBACZ;MACC,GAAG,EAAEA,OAAO,GAAG,GAAH,GAASd,KAAK,IAAI,IAD/B;MAEC,KAAK,EAAEc,OAAO,GAAG,GAAH,GAASd,KAAK,IAAI,IAFjC;MAGC,QAAQ,EAAEc,OAAO,GAAG,IAAH,GAAU,KAH5B;MAIC,KAAK,EAAEA,OAAO,GAAGC,aAAH,GAAmBN;IAJlC,GAKEI,KALF,CADY;EAAA,CAAZ,CANF,CADD;AAkBA;AAEDd,aAAa,CAACiB,SAAd,GAA0B;EACzB;AACD;AACA;AACA;EACChB,KAAK,EAAEJ,SAAS,CAACqB,MALQ;;EAOzB;AACD;AACA;AACA;EACChB,QAAQ,EAAEL,SAAS,CAACsB,IAAV,CAAeC,UAXA;EAazB;EACAjB,OAAO,EAAEN,SAAS,CAACwB,OAAV,CAAkBxB,SAAS,CAACyB,KAAV,CAAgB;IAC1CrB,KAAK,EAAEJ,SAAS,CAACqB,MADyB;IAE1CJ,KAAK,EAAEjB,SAAS,CAACqB,MAFyB;IAG1CH,OAAO,EAAElB,SAAS,CAAC0B;EAHuB,CAAhB,CAAlB,EAILH,UAlBqB;EAoBzB;EACA;EACA;EACA;EACA;EACAhB,QAAQ,EAAEP,SAAS,CAAC0B,IAzBK;EA0BzBlB,QAAQ,EAAER,SAAS,CAAC0B;AA1BK,CAA1B;AA6BA,IAAMP,aAAa,GAAG;EACrBQ,QAAQ,EAAE,KADW;EAErBC,eAAe,EAAE,cAFI;EAGrBC,KAAK,EAAE;AAHc,CAAtB;AAMA,OAAO,SAASC,qBAAT,QASJ;EAAA,IARF1B,KAQE,SARFA,KAQE;EAAA,IAPFE,OAOE,SAPFA,OAOE;EAAA,IANFyB,SAME,SANFA,SAME;EAAA,IALaC,IAKb,SALFC,aAKE;EAAA,IAJFC,kBAIE,SAJFA,kBAIE;EAAA,iCAHFC,cAGE;EAAA,IAHcC,KAGd,qCAHsBC,qBAGtB;EAAA,IAFFC,YAEE,SAFFA,YAEE;EAAA,IADC7B,IACD;;EACF,IAAMK,cAAc,GAAGf,OAAO,CAAC,YAAM;IACpC,OAAOgB,iBAAiB,CAACT,OAAD,EAAUF,KAAV,CAAxB;EACA,CAF6B,EAE3B,CAACE,OAAD,EAAUF,KAAV,CAF2B,CAA9B;EAIA,oBACC;IAAK,SAAS,EAAC;EAAf,gBACC,oBAAC,aAAD,eACKK,IADL;IAEC,KAAK,EAAEL,KAFR;IAGC,OAAO,EAAEE,OAHV;IAIC,SAAS,EAAEL,UAAU,CAAC,yBAAD,EAA4B8B,SAA5B;EAJtB,GADD,EAQGO,YAAY,IAAIlC,KAAjB,iBACA;IAAK,SAAS,EAAC;EAAf,GACEF,kBAAkB,CAACE,KAAD,CADpB,CATF,EAeE,EAAEkC,YAAY,IAAIlC,KAAlB,kBACA,oBAAC,IAAD;IACC,mBADD;IAEC,OAAO,EAAEA,KAFV;IAGC,KAAK,EAAEU,cAAc,IAAIA,cAAc,CAACG,KAHzC;IAIC,WAAW,EAAEqB,YAAY,GAAG,CAAH,GAAOzB;EAJjC,EAhBF,eAuBC,oBAAC,KAAD,OAvBD,CADD;AA2BA;AAEDiB,qBAAqB,CAACV,SAAtB,GAAkC;EACjC;EACAa,aAAa,EAAEjC,SAAS,CAACuC,WAFQ;EAIjC;EACAJ,cAAc,EAAEnC,SAAS,CAACuC,WALO;EAOjC;EACAD,YAAY,EAAEtC,SAAS,CAAC0B;AARS,CAAlC;;AAWA,SAASW,qBAAT,GAAiC;EAChC,oBAAO;IAAK,SAAS,EAAC;EAAf,EAAP;AACA;;AAED,SAAStB,iBAAT,CAA2BT,OAA3B,EAAoCF,KAApC,EAA2C;EAC1C,qDAAqBE,OAArB,wCAA8B;IAAA,IAAnBkC,MAAmB;;IAC7B,IAAI,CAACA,MAAM,CAACtB,OAAR,IAAmBsB,MAAM,CAACpC,KAAP,KAAiBA,KAAxC,EAA+C;MAC9C,OAAOoC,MAAP;IACA;EACD;AACD"}