{"version":3,"names":["_defineProperty","obj","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","isChromeDebugger","isJest","isWeb","isWindowAvailable","SensorType","mockedRequestAnimationFrame","requestAnimationFrameImpl","globalThis","requestAnimationFrame","JSReanimated","constructor","Map","sensor","sensorType","eventHandler","ACCELEROMETER","GRAVITY","x","y","z","platform","Platform","WEB_ANDROID","interfaceOrientation","GYROSCOPE","MAGNETIC_FIELD","ROTATION","qw","qx","qy","qz","quaternion","yaw","Math","atan2","pitch","sin","roll","makeShareableClone","Error","scheduleOnUI","worklet","createWorkletRuntime","_name","_initializer","scheduleOnRuntime","registerEventHandler","_eventHandler","_eventName","_emitterReactTag","unregisterEventHandler","_","enableLayoutAnimations","console","warn","configureLayoutAnimation","setShouldAnimateExitingForTag","registerSensor","interval","_iosReferenceFrame","detectPlatform","getSensorName","window","location","protocol","WEB_IOS","initializeSensor","addEventListener","getSensorCallback","start","sensors","set","nextSensorId","unregisterSensor","id","get","stop","delete","subscribeForKeyboardEvents","unsubscribeFromKeyboardEvents","config","referenceFrame","frequency","Accelerometer","Gyroscope","GravitySensor","Magnetometer","AbsoluteOrientationSensor","userAgent","navigator","vendor","opera","UNKNOWN","test","WEB","makeSynchronizedDataHolder","_valueRef","getDataSynchronously","_ref","getViewProp","_viewTag","_propName","_callback","configureProps"],"sources":["JSReanimated.ts"],"sourcesContent":["'use strict';\nimport {\n  isChromeDebugger,\n  isJest,\n  isWeb,\n  isWindowAvailable,\n} from '../PlatformChecker';\nimport type {\n  ShareableRef,\n  ShareableSyncDataHolderRef,\n  Value3D,\n  ValueRotation,\n} from '../commonTypes';\nimport { SensorType } from '../commonTypes';\nimport type { WebSensor } from './WebSensor';\nimport { mockedRequestAnimationFrame } from '../mockedRequestAnimationFrame';\nimport type { WorkletRuntime } from '../runtimes';\n\n// In Node.js environments (like when static rendering with Expo Router)\n// requestAnimationFrame is unavailable, so we use our mock.\n// It also has to be mocked for Jest purposes (see `initializeUIRuntime`).\nconst requestAnimationFrameImpl =\n  isJest() || !globalThis.requestAnimationFrame\n    ? mockedRequestAnimationFrame\n    : globalThis.requestAnimationFrame;\n\nexport default class JSReanimated {\n  nextSensorId = 0;\n  sensors = new Map<number, WebSensor>();\n  platform?: Platform = undefined;\n\n  makeShareableClone<T>(): ShareableRef<T> {\n    throw new Error(\n      '[Reanimated] makeShareableClone should never be called in JSReanimated.'\n    );\n  }\n\n  scheduleOnUI<T>(worklet: ShareableRef<T>) {\n    // @ts-ignore web implementation has still not been updated after the rewrite, this will be addressed once the web implementation updates are ready\n    requestAnimationFrameImpl(worklet);\n  }\n\n  createWorkletRuntime(\n    _name: string,\n    _initializer: ShareableRef<() => void>\n  ): WorkletRuntime {\n    throw new Error(\n      '[Reanimated] createWorkletRuntime is not available in JSReanimated.'\n    );\n  }\n\n  scheduleOnRuntime() {\n    throw new Error(\n      '[Reanimated] scheduleOnRuntime is not available in JSReanimated.'\n    );\n  }\n\n  registerEventHandler<T>(\n    _eventHandler: ShareableRef<T>,\n    _eventName: string,\n    _emitterReactTag: number\n  ): number {\n    // noop\n    return -1;\n  }\n\n  unregisterEventHandler(_: number): void {\n    // noop\n  }\n\n  enableLayoutAnimations() {\n    if (isWeb()) {\n      console.warn(\n        '[Reanimated] Layout Animations are not supported on web yet.'\n      );\n    } else if (isJest()) {\n      console.warn(\n        '[Reanimated] Layout Animations are no-ops when using Jest.'\n      );\n    } else if (isChromeDebugger()) {\n      console.warn(\n        '[Reanimated] Layout Animations are no-ops when using Chrome Debugger.'\n      );\n    } else {\n      console.warn(\n        '[Reanimated] Layout Animations are not supported on this configuration.'\n      );\n    }\n  }\n\n  configureLayoutAnimation() {\n    // no-op\n  }\n\n  setShouldAnimateExitingForTag() {\n    // no-op\n  }\n\n  registerSensor(\n    sensorType: SensorType,\n    interval: number,\n    _iosReferenceFrame: number,\n    eventHandler: ShareableRef<(data: Value3D | ValueRotation) => void>\n  ): number {\n    if (!isWindowAvailable()) {\n      // the window object is unavailable when building the server portion of a site that uses SSG\n      // this check is here to ensure that the server build won't fail\n      return -1;\n    }\n\n    if (this.platform === undefined) {\n      this.detectPlatform();\n    }\n\n    if (!(this.getSensorName(sensorType) in window)) {\n      // https://w3c.github.io/sensors/#secure-context\n      console.warn(\n        '[Reanimated] Sensor is not available.' +\n          (isWeb() && location.protocol !== 'https:'\n            ? ' Make sure you use secure origin with `npx expo start --web --https`.'\n            : '') +\n          (this.platform === Platform.WEB_IOS\n            ? ' For iOS web, you will also have to also grant permission in the browser: https://dev.to/li/how-to-requestpermission-for-devicemotion-and-deviceorientation-events-in-ios-13-46g2.'\n            : '')\n      );\n      return -1;\n    }\n\n    if (this.platform === undefined) {\n      this.detectPlatform();\n    }\n\n    const sensor: WebSensor = this.initializeSensor(sensorType, interval);\n    sensor.addEventListener(\n      'reading',\n      this.getSensorCallback(sensor, sensorType, eventHandler)\n    );\n    sensor.start();\n\n    this.sensors.set(this.nextSensorId, sensor);\n    return this.nextSensorId++;\n  }\n\n  getSensorCallback = (\n    sensor: WebSensor,\n    sensorType: SensorType,\n    eventHandler: ShareableRef<(data: Value3D | ValueRotation) => void>\n  ) => {\n    switch (sensorType) {\n      case SensorType.ACCELEROMETER:\n      case SensorType.GRAVITY:\n        return () => {\n          let { x, y, z } = sensor;\n\n          // Web Android sensors have a different coordinate system than iOS\n          if (this.platform === Platform.WEB_ANDROID) {\n            [x, y, z] = [-x, -y, -z];\n          }\n          // TODO TYPESCRIPT on web ShareableRef is the value itself so we call it directly\n          (eventHandler as any)({ x, y, z, interfaceOrientation: 0 });\n        };\n      case SensorType.GYROSCOPE:\n      case SensorType.MAGNETIC_FIELD:\n        return () => {\n          const { x, y, z } = sensor;\n          // TODO TYPESCRIPT on web ShareableRef is the value itself so we call it directly\n          (eventHandler as any)({ x, y, z, interfaceOrientation: 0 });\n        };\n      case SensorType.ROTATION:\n        return () => {\n          let [qw, qx, qy, qz] = sensor.quaternion;\n\n          // Android sensors have a different coordinate system than iOS\n          if (this.platform === Platform.WEB_ANDROID) {\n            [qy, qz] = [qz, -qy];\n          }\n\n          // reference: https://stackoverflow.com/questions/5782658/extracting-yaw-from-a-quaternion\n          const yaw = -Math.atan2(\n            2.0 * (qy * qz + qw * qx),\n            qw * qw - qx * qx - qy * qy + qz * qz\n          );\n          const pitch = Math.sin(-2.0 * (qx * qz - qw * qy));\n          const roll = -Math.atan2(\n            2.0 * (qx * qy + qw * qz),\n            qw * qw + qx * qx - qy * qy - qz * qz\n          );\n          // TODO TYPESCRIPT on web ShareableRef is the value itself so we call it directly\n          (eventHandler as any)({\n            qw,\n            qx,\n            qy,\n            qz,\n            yaw,\n            pitch,\n            roll,\n            interfaceOrientation: 0,\n          });\n        };\n    }\n  };\n\n  unregisterSensor(id: number): void {\n    const sensor: WebSensor | undefined = this.sensors.get(id);\n    if (sensor !== undefined) {\n      sensor.stop();\n      this.sensors.delete(id);\n    }\n  }\n\n  subscribeForKeyboardEvents(_: ShareableRef<number>): number {\n    if (isWeb()) {\n      console.warn(\n        '[Reanimated] useAnimatedKeyboard is not available on web yet.'\n      );\n    } else if (isJest()) {\n      console.warn(\n        '[Reanimated] useAnimatedKeyboard is not available when using Jest.'\n      );\n    } else if (isChromeDebugger()) {\n      console.warn(\n        '[Reanimated] useAnimatedKeyboard is not available when using Chrome Debugger.'\n      );\n    } else {\n      console.warn(\n        '[Reanimated] useAnimatedKeyboard is not available on this configuration.'\n      );\n    }\n    return -1;\n  }\n\n  unsubscribeFromKeyboardEvents(_: number): void {\n    // noop\n  }\n\n  initializeSensor(sensorType: SensorType, interval: number): WebSensor {\n    const config =\n      interval <= 0\n        ? { referenceFrame: 'device' }\n        : { frequency: 1000 / interval };\n    switch (sensorType) {\n      case SensorType.ACCELEROMETER:\n        return new window.Accelerometer(config);\n      case SensorType.GYROSCOPE:\n        return new window.Gyroscope(config);\n      case SensorType.GRAVITY:\n        return new window.GravitySensor(config);\n      case SensorType.MAGNETIC_FIELD:\n        return new window.Magnetometer(config);\n      case SensorType.ROTATION:\n        return new window.AbsoluteOrientationSensor(config);\n    }\n  }\n\n  getSensorName(sensorType: SensorType): string {\n    switch (sensorType) {\n      case SensorType.ACCELEROMETER:\n        return 'Accelerometer';\n      case SensorType.GRAVITY:\n        return 'GravitySensor';\n      case SensorType.GYROSCOPE:\n        return 'Gyroscope';\n      case SensorType.MAGNETIC_FIELD:\n        return 'Magnetometer';\n      case SensorType.ROTATION:\n        return 'AbsoluteOrientationSensor';\n    }\n  }\n\n  detectPlatform() {\n    const userAgent = navigator.userAgent || navigator.vendor || window.opera;\n    if (userAgent === undefined) {\n      this.platform = Platform.UNKNOWN;\n    } else if (/iPad|iPhone|iPod/.test(userAgent)) {\n      this.platform = Platform.WEB_IOS;\n    } else if (/android/i.test(userAgent)) {\n      this.platform = Platform.WEB_ANDROID;\n    } else {\n      this.platform = Platform.WEB;\n    }\n  }\n\n  makeSynchronizedDataHolder<T>(\n    _valueRef: ShareableRef<T>\n  ): ShareableSyncDataHolderRef<T> {\n    throw new Error(\n      '[Reanimated] makeSynchronizedDataHolder is not available in JSReanimated.'\n    );\n  }\n\n  getDataSynchronously<T>(_ref: ShareableSyncDataHolderRef<T>): T {\n    throw new Error(\n      '[Reanimated] getDataSynchronously is not available in JSReanimated.'\n    );\n  }\n\n  getViewProp<T>(\n    _viewTag: number,\n    _propName: string,\n    _callback?: (result: T) => void\n  ): Promise<T> {\n    throw new Error(\n      '[Reanimated] getViewProp is not available in JSReanimated.'\n    );\n  }\n\n  configureProps() {\n    throw new Error(\n      '[Reanimated] configureProps is not available in JSReanimated.'\n    );\n  }\n}\n\nenum Platform {\n  WEB_IOS = 'web iOS',\n  WEB_ANDROID = 'web Android',\n  WEB = 'web',\n  UNKNOWN = 'unknown',\n}\n\ndeclare global {\n  interface Navigator {\n    userAgent?: string;\n    vendor?: string;\n  }\n}\n"],"mappings":"AAAA,YAAY;;AAAC,SAAAA,gBAAAC,GAAA,EAAAC,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAAD,GAAA,IAAAI,MAAA,CAAAC,cAAA,CAAAL,GAAA,EAAAC,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAI,UAAA,QAAAC,YAAA,QAAAC,QAAA,oBAAAR,GAAA,CAAAC,GAAA,IAAAC,KAAA,WAAAF,GAAA;AAAA,SAAAG,eAAAM,GAAA,QAAAR,GAAA,GAAAS,YAAA,CAAAD,GAAA,2BAAAR,GAAA,gBAAAA,GAAA,GAAAU,MAAA,CAAAV,GAAA;AAAA,SAAAS,aAAAE,KAAA,EAAAC,IAAA,eAAAD,KAAA,iBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAG,SAAA,QAAAC,GAAA,GAAAJ,IAAA,CAAAK,IAAA,CAAAP,KAAA,EAAAC,IAAA,2BAAAK,GAAA,sBAAAA,GAAA,YAAAE,SAAA,4DAAAP,IAAA,gBAAAF,MAAA,GAAAU,MAAA,EAAAT,KAAA;AACb,SACEU,gBAAgB,EAChBC,MAAM,EACNC,KAAK,EACLC,iBAAiB,QACZ,oBAAoB;AAO3B,SAASC,UAAU,QAAQ,gBAAgB;AAE3C,SAASC,2BAA2B,QAAQ,gCAAgC;AAG5E;AACA;AACA;AACA,MAAMC,yBAAyB,GAC7BL,MAAM,EAAE,IAAI,CAACM,UAAU,CAACC,qBAAqB,GACzCH,2BAA2B,GAC3BE,UAAU,CAACC,qBAAqB;AAEtC,eAAe,MAAMC,YAAY,CAAC;EAAAC,YAAA;IAAAjC,eAAA,uBACjB,CAAC;IAAAA,eAAA,kBACN,IAAIkC,GAAG,EAAqB;IAAAlC,eAAA,mBAChBkB,SAAS;IAAAlB,eAAA,4BAkHX,CAClBmC,MAAiB,EACjBC,UAAsB,EACtBC,YAAmE,KAChE;MACH,QAAQD,UAAU;QAChB,KAAKT,UAAU,CAACW,aAAa;QAC7B,KAAKX,UAAU,CAACY,OAAO;UACrB,OAAO,MAAM;YACX,IAAI;cAAEC,CAAC;cAAEC,CAAC;cAAEC;YAAE,CAAC,GAAGP,MAAM;;YAExB;YACA,IAAI,IAAI,CAACQ,QAAQ,KAAKC,QAAQ,CAACC,WAAW,EAAE;cAC1C,CAACL,CAAC,EAAEC,CAAC,EAAEC,CAAC,CAAC,GAAG,CAAC,CAACF,CAAC,EAAE,CAACC,CAAC,EAAE,CAACC,CAAC,CAAC;YAC1B;YACA;YACCL,YAAY,CAAS;cAAEG,CAAC;cAAEC,CAAC;cAAEC,CAAC;cAAEI,oBAAoB,EAAE;YAAE,CAAC,CAAC;UAC7D,CAAC;QACH,KAAKnB,UAAU,CAACoB,SAAS;QACzB,KAAKpB,UAAU,CAACqB,cAAc;UAC5B,OAAO,MAAM;YACX,MAAM;cAAER,CAAC;cAAEC,CAAC;cAAEC;YAAE,CAAC,GAAGP,MAAM;YAC1B;YACCE,YAAY,CAAS;cAAEG,CAAC;cAAEC,CAAC;cAAEC,CAAC;cAAEI,oBAAoB,EAAE;YAAE,CAAC,CAAC;UAC7D,CAAC;QACH,KAAKnB,UAAU,CAACsB,QAAQ;UACtB,OAAO,MAAM;YACX,IAAI,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,CAAC,GAAGlB,MAAM,CAACmB,UAAU;;YAExC;YACA,IAAI,IAAI,CAACX,QAAQ,KAAKC,QAAQ,CAACC,WAAW,EAAE;cAC1C,CAACO,EAAE,EAAEC,EAAE,CAAC,GAAG,CAACA,EAAE,EAAE,CAACD,EAAE,CAAC;YACtB;;YAEA;YACA,MAAMG,GAAG,GAAG,CAACC,IAAI,CAACC,KAAK,CACrB,GAAG,IAAIL,EAAE,GAAGC,EAAE,GAAGH,EAAE,GAAGC,EAAE,CAAC,EACzBD,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CACtC;YACD,MAAMK,KAAK,GAAGF,IAAI,CAACG,GAAG,CAAC,CAAC,GAAG,IAAIR,EAAE,GAAGE,EAAE,GAAGH,EAAE,GAAGE,EAAE,CAAC,CAAC;YAClD,MAAMQ,IAAI,GAAG,CAACJ,IAAI,CAACC,KAAK,CACtB,GAAG,IAAIN,EAAE,GAAGC,EAAE,GAAGF,EAAE,GAAGG,EAAE,CAAC,EACzBH,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CACtC;YACD;YACChB,YAAY,CAAS;cACpBa,EAAE;cACFC,EAAE;cACFC,EAAE;cACFC,EAAE;cACFE,GAAG;cACHG,KAAK;cACLE,IAAI;cACJd,oBAAoB,EAAE;YACxB,CAAC,CAAC;UACJ,CAAC;MAAC;IAER,CAAC;EAAA;EAzKDe,kBAAkBA,CAAA,EAAuB;IACvC,MAAM,IAAIC,KAAK,CACb,yEAAyE,CAC1E;EACH;EAEAC,YAAYA,CAAIC,OAAwB,EAAE;IACxC;IACAnC,yBAAyB,CAACmC,OAAO,CAAC;EACpC;EAEAC,oBAAoBA,CAClBC,KAAa,EACbC,YAAsC,EACtB;IAChB,MAAM,IAAIL,KAAK,CACb,qEAAqE,CACtE;EACH;EAEAM,iBAAiBA,CAAA,EAAG;IAClB,MAAM,IAAIN,KAAK,CACb,kEAAkE,CACnE;EACH;EAEAO,oBAAoBA,CAClBC,aAA8B,EAC9BC,UAAkB,EAClBC,gBAAwB,EAChB;IACR;IACA,OAAO,CAAC,CAAC;EACX;EAEAC,sBAAsBA,CAACC,CAAS,EAAQ;IACtC;EAAA;EAGFC,sBAAsBA,CAAA,EAAG;IACvB,IAAIlD,KAAK,EAAE,EAAE;MACXmD,OAAO,CAACC,IAAI,CACV,8DAA8D,CAC/D;IACH,CAAC,MAAM,IAAIrD,MAAM,EAAE,EAAE;MACnBoD,OAAO,CAACC,IAAI,CACV,4DAA4D,CAC7D;IACH,CAAC,MAAM,IAAItD,gBAAgB,EAAE,EAAE;MAC7BqD,OAAO,CAACC,IAAI,CACV,uEAAuE,CACxE;IACH,CAAC,MAAM;MACLD,OAAO,CAACC,IAAI,CACV,yEAAyE,CAC1E;IACH;EACF;EAEAC,wBAAwBA,CAAA,EAAG;IACzB;EAAA;EAGFC,6BAA6BA,CAAA,EAAG;IAC9B;EAAA;EAGFC,cAAcA,CACZ5C,UAAsB,EACtB6C,QAAgB,EAChBC,kBAA0B,EAC1B7C,YAAmE,EAC3D;IACR,IAAI,CAACX,iBAAiB,EAAE,EAAE;MACxB;MACA;MACA,OAAO,CAAC,CAAC;IACX;IAEA,IAAI,IAAI,CAACiB,QAAQ,KAAKzB,SAAS,EAAE;MAC/B,IAAI,CAACiE,cAAc,EAAE;IACvB;IAEA,IAAI,EAAE,IAAI,CAACC,aAAa,CAAChD,UAAU,CAAC,IAAIiD,MAAM,CAAC,EAAE;MAC/C;MACAT,OAAO,CAACC,IAAI,CACV,uCAAuC,IACpCpD,KAAK,EAAE,IAAI6D,QAAQ,CAACC,QAAQ,KAAK,QAAQ,GACtC,uEAAuE,GACvE,EAAE,CAAC,IACN,IAAI,CAAC5C,QAAQ,KAAKC,QAAQ,CAAC4C,OAAO,GAC/B,oLAAoL,GACpL,EAAE,CAAC,CACV;MACD,OAAO,CAAC,CAAC;IACX;IAEA,IAAI,IAAI,CAAC7C,QAAQ,KAAKzB,SAAS,EAAE;MAC/B,IAAI,CAACiE,cAAc,EAAE;IACvB;IAEA,MAAMhD,MAAiB,GAAG,IAAI,CAACsD,gBAAgB,CAACrD,UAAU,EAAE6C,QAAQ,CAAC;IACrE9C,MAAM,CAACuD,gBAAgB,CACrB,SAAS,EACT,IAAI,CAACC,iBAAiB,CAACxD,MAAM,EAAEC,UAAU,EAAEC,YAAY,CAAC,CACzD;IACDF,MAAM,CAACyD,KAAK,EAAE;IAEd,IAAI,CAACC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,YAAY,EAAE5D,MAAM,CAAC;IAC3C,OAAO,IAAI,CAAC4D,YAAY,EAAE;EAC5B;EA6DAC,gBAAgBA,CAACC,EAAU,EAAQ;IACjC,MAAM9D,MAA6B,GAAG,IAAI,CAAC0D,OAAO,CAACK,GAAG,CAACD,EAAE,CAAC;IAC1D,IAAI9D,MAAM,KAAKjB,SAAS,EAAE;MACxBiB,MAAM,CAACgE,IAAI,EAAE;MACb,IAAI,CAACN,OAAO,CAACO,MAAM,CAACH,EAAE,CAAC;IACzB;EACF;EAEAI,0BAA0BA,CAAC3B,CAAuB,EAAU;IAC1D,IAAIjD,KAAK,EAAE,EAAE;MACXmD,OAAO,CAACC,IAAI,CACV,+DAA+D,CAChE;IACH,CAAC,MAAM,IAAIrD,MAAM,EAAE,EAAE;MACnBoD,OAAO,CAACC,IAAI,CACV,oEAAoE,CACrE;IACH,CAAC,MAAM,IAAItD,gBAAgB,EAAE,EAAE;MAC7BqD,OAAO,CAACC,IAAI,CACV,+EAA+E,CAChF;IACH,CAAC,MAAM;MACLD,OAAO,CAACC,IAAI,CACV,0EAA0E,CAC3E;IACH;IACA,OAAO,CAAC,CAAC;EACX;EAEAyB,6BAA6BA,CAAC5B,CAAS,EAAQ;IAC7C;EAAA;EAGFe,gBAAgBA,CAACrD,UAAsB,EAAE6C,QAAgB,EAAa;IACpE,MAAMsB,MAAM,GACVtB,QAAQ,IAAI,CAAC,GACT;MAAEuB,cAAc,EAAE;IAAS,CAAC,GAC5B;MAAEC,SAAS,EAAE,IAAI,GAAGxB;IAAS,CAAC;IACpC,QAAQ7C,UAAU;MAChB,KAAKT,UAAU,CAACW,aAAa;QAC3B,OAAO,IAAI+C,MAAM,CAACqB,aAAa,CAACH,MAAM,CAAC;MACzC,KAAK5E,UAAU,CAACoB,SAAS;QACvB,OAAO,IAAIsC,MAAM,CAACsB,SAAS,CAACJ,MAAM,CAAC;MACrC,KAAK5E,UAAU,CAACY,OAAO;QACrB,OAAO,IAAI8C,MAAM,CAACuB,aAAa,CAACL,MAAM,CAAC;MACzC,KAAK5E,UAAU,CAACqB,cAAc;QAC5B,OAAO,IAAIqC,MAAM,CAACwB,YAAY,CAACN,MAAM,CAAC;MACxC,KAAK5E,UAAU,CAACsB,QAAQ;QACtB,OAAO,IAAIoC,MAAM,CAACyB,yBAAyB,CAACP,MAAM,CAAC;IAAC;EAE1D;EAEAnB,aAAaA,CAAChD,UAAsB,EAAU;IAC5C,QAAQA,UAAU;MAChB,KAAKT,UAAU,CAACW,aAAa;QAC3B,OAAO,eAAe;MACxB,KAAKX,UAAU,CAACY,OAAO;QACrB,OAAO,eAAe;MACxB,KAAKZ,UAAU,CAACoB,SAAS;QACvB,OAAO,WAAW;MACpB,KAAKpB,UAAU,CAACqB,cAAc;QAC5B,OAAO,cAAc;MACvB,KAAKrB,UAAU,CAACsB,QAAQ;QACtB,OAAO,2BAA2B;IAAC;EAEzC;EAEAkC,cAAcA,CAAA,EAAG;IACf,MAAM4B,SAAS,GAAGC,SAAS,CAACD,SAAS,IAAIC,SAAS,CAACC,MAAM,IAAI5B,MAAM,CAAC6B,KAAK;IACzE,IAAIH,SAAS,KAAK7F,SAAS,EAAE;MAC3B,IAAI,CAACyB,QAAQ,GAAGC,QAAQ,CAACuE,OAAO;IAClC,CAAC,MAAM,IAAI,kBAAkB,CAACC,IAAI,CAACL,SAAS,CAAC,EAAE;MAC7C,IAAI,CAACpE,QAAQ,GAAGC,QAAQ,CAAC4C,OAAO;IAClC,CAAC,MAAM,IAAI,UAAU,CAAC4B,IAAI,CAACL,SAAS,CAAC,EAAE;MACrC,IAAI,CAACpE,QAAQ,GAAGC,QAAQ,CAACC,WAAW;IACtC,CAAC,MAAM;MACL,IAAI,CAACF,QAAQ,GAAGC,QAAQ,CAACyE,GAAG;IAC9B;EACF;EAEAC,0BAA0BA,CACxBC,SAA0B,EACK;IAC/B,MAAM,IAAIzD,KAAK,CACb,2EAA2E,CAC5E;EACH;EAEA0D,oBAAoBA,CAAIC,IAAmC,EAAK;IAC9D,MAAM,IAAI3D,KAAK,CACb,qEAAqE,CACtE;EACH;EAEA4D,WAAWA,CACTC,QAAgB,EAChBC,SAAiB,EACjBC,SAA+B,EACnB;IACZ,MAAM,IAAI/D,KAAK,CACb,4DAA4D,CAC7D;EACH;EAEAgE,cAAcA,CAAA,EAAG;IACf,MAAM,IAAIhE,KAAK,CACb,+DAA+D,CAChE;EACH;AACF;AAAC,IAEIlB,QAAQ,0BAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAAA,OAARA,QAAQ;AAAA,EAARA,QAAQ"}