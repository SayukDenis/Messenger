{"ast":null,"code":"import React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { connect } from \"react-redux\";\nimport UnViewedMessage from \"../../SVG/UnViewedMessage\";\nimport ViewedMessageIcon from \"../../SVG/ViewedMessageIcon\";\nimport { listOfChatsStyle } from \"../../../Styles/ListOfChatsStyle\";\nimport { CountOfMessages } from \"../Functions/CountOfMessages\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar LastMessageStatus = function LastMessageStatus(_ref) {\n  var _ref2, _ref3;\n  var chat = _ref.chat,\n    selfProfile = _ref.selfProfile;\n  var listOfLastWatchedMessage = chat.lastWatchedMessage;\n  var ILastMessage = (_ref2 = listOfLastWatchedMessage === undefined ? null : listOfLastWatchedMessage) == null ? void 0 : _ref2.find(function (value) {\n    return value.user.userId == selfProfile.userId;\n  });\n  var lastMessageId = (_ref3 = (ILastMessage == null ? void 0 : ILastMessage.value) !== undefined ? ILastMessage.value : null) == null ? void 0 : _ref3.messageId;\n  var content;\n  var lastMessage = chat.messages[chat.messages.length - 1];\n  if (lastMessage.author.userId === selfProfile.userId) {\n    if (lastMessageId && lastMessage.author.userId !== undefined && (lastMessage == null ? void 0 : lastMessage.author.userId) < lastMessageId) {\n      content = _jsx(View, {\n        style: listOfChatsStyle.checkMarkercontainerStyle,\n        children: _jsx(UnViewedMessage, {})\n      });\n    } else {\n      content = _jsx(View, {\n        style: listOfChatsStyle.checkMarkercontainerStyle,\n        children: _jsx(ViewedMessageIcon, {\n          stylePosition: listOfChatsStyle.positionOfFirstCheckMarkStyle\n        })\n      });\n    }\n  } else if (lastMessageId) {\n    var countOfMessage = chat.messages.length - lastMessageId;\n    if (countOfMessage === 0) return null;\n    content = CountOfMessages(countOfMessage, \"#FFFFFF\", \"black\", 0.6, 13);\n  }\n  return content;\n};\nexport default connect(null)(LastMessageStatus);","map":{"version":3,"names":["React","View","connect","UnViewedMessage","ViewedMessageIcon","listOfChatsStyle","CountOfMessages","jsx","_jsx","LastMessageStatus","_ref","_ref2","_ref3","chat","selfProfile","listOfLastWatchedMessage","lastWatchedMessage","ILastMessage","undefined","find","value","user","userId","lastMessageId","messageId","content","lastMessage","messages","length","author","style","checkMarkercontainerStyle","children","stylePosition","positionOfFirstCheckMarkStyle","countOfMessage"],"sources":["D:/project/1project/Messenger/Messenger/Pages/ChatList/Components/List of folders containers/CompontentsForChatListContainer/LastMessageStatusContent.tsx"],"sourcesContent":["import React, { ReactNode } from \"react\";\r\nimport { View } from \"react-native\";\r\nimport { connect } from \"react-redux\";\r\nimport UnViewedMessage from \"../../SVG/UnViewedMessage\";\r\nimport ViewedMessageIcon from \"../../SVG/ViewedMessageIcon\";\r\nimport { listOfChatsStyle } from \"../../../Styles/ListOfChatsStyle\";\r\nimport Chat from \"../../../../../dao/Models/Chats/Chat\";\r\nimport SelfProfile from \"../../../../../dao/Models/SelfProfile\";\r\nimport { CountOfMessages } from \"../Functions/CountOfMessages\";\r\nimport ILastWatchedMessage from \"../../../../../dao/Models/Chats/ILastWatchedMessage\";\r\n\r\n\r\n\r\ninterface LastMessageStatusProps {\r\n  chat: Chat;\r\n  selfProfile: SelfProfile;\r\n}\r\n\r\nconst LastMessageStatus: React.FC<LastMessageStatusProps> = ({\r\n  chat,\r\n  selfProfile,\r\n}) => {\r\n  const listOfLastWatchedMessage:ILastWatchedMessage[]=chat.lastWatchedMessage;\r\n  const ILastMessage: ILastWatchedMessage | undefined = (listOfLastWatchedMessage===undefined?null:listOfLastWatchedMessage)?.find(\r\n    (value: ILastWatchedMessage) => {\r\n      return value.user.userId == selfProfile.userId;\r\n    }\r\n  );\r\n  const  lastMessageId:number|undefined=(ILastMessage?.value!==undefined?ILastMessage.value:null)?.messageId\r\n  \r\n  let content: ReactNode;\r\n  const lastMessage = chat.messages[chat.messages.length - 1];\r\n  if (lastMessage.author.userId === selfProfile.userId) {\r\n    if (lastMessageId && lastMessage.author.userId!==undefined && lastMessage?.author.userId < lastMessageId) {\r\n      content = (\r\n        <View style={listOfChatsStyle.checkMarkercontainerStyle}>\r\n          <UnViewedMessage />\r\n        </View>\r\n      );\r\n    } else{\r\n      content = (\r\n        <View style={listOfChatsStyle.checkMarkercontainerStyle}>\r\n          <ViewedMessageIcon\r\n            stylePosition={listOfChatsStyle.positionOfFirstCheckMarkStyle}\r\n          />\r\n        </View>\r\n      );\r\n    }\r\n  } else if (lastMessageId) {\r\n    const countOfMessage: number = chat.messages.length - lastMessageId;\r\n    if (countOfMessage === 0) return null;\r\n    content = CountOfMessages(countOfMessage,\"#FFFFFF\",\"black\",0.6,13);\r\n  }\r\n\r\n  return content;\r\n};\r\n\r\nexport default connect(null)(LastMessageStatus);\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAqB,OAAO;AAAC,OAAAC,IAAA;AAEzC,SAASC,OAAO,QAAQ,aAAa;AACrC,OAAOC,eAAe;AACtB,OAAOC,iBAAiB;AACxB,SAASC,gBAAgB;AAGzB,SAASC,eAAe;AAAuC,SAAAC,GAAA,IAAAC,IAAA;AAU/D,IAAMC,iBAAmD,GAAG,SAAtDA,iBAAmDA,CAAAC,IAAA,EAGnD;EAAA,IAAAC,KAAA,EAAAC,KAAA;EAAA,IAFJC,IAAI,GAAAH,IAAA,CAAJG,IAAI;IACJC,WAAW,GAAAJ,IAAA,CAAXI,WAAW;EAEX,IAAMC,wBAA8C,GAACF,IAAI,CAACG,kBAAkB;EAC5E,IAAMC,YAA6C,IAAAN,KAAA,GAAII,wBAAwB,KAAGG,SAAS,GAAC,IAAI,GAACH,wBAAwB,qBAAnEJ,KAAA,CAAsEQ,IAAI,CAC9H,UAACC,KAA0B,EAAK;IAC9B,OAAOA,KAAK,CAACC,IAAI,CAACC,MAAM,IAAIR,WAAW,CAACQ,MAAM;EAChD,CACF,CAAC;EACD,IAAOC,aAA8B,IAAAX,KAAA,GAAE,CAAAK,YAAY,oBAAZA,YAAY,CAAEG,KAAK,MAAGF,SAAS,GAACD,YAAY,CAACG,KAAK,GAAC,IAAI,qBAAxDR,KAAA,CAA2DY,SAAS;EAE1G,IAAIC,OAAkB;EACtB,IAAMC,WAAW,GAAGb,IAAI,CAACc,QAAQ,CAACd,IAAI,CAACc,QAAQ,CAACC,MAAM,GAAG,CAAC,CAAC;EAC3D,IAAIF,WAAW,CAACG,MAAM,CAACP,MAAM,KAAKR,WAAW,CAACQ,MAAM,EAAE;IACpD,IAAIC,aAAa,IAAIG,WAAW,CAACG,MAAM,CAACP,MAAM,KAAGJ,SAAS,IAAI,CAAAQ,WAAW,oBAAXA,WAAW,CAAEG,MAAM,CAACP,MAAM,IAAGC,aAAa,EAAE;MACxGE,OAAO,GACLjB,IAAA,CAACP,IAAI;QAAC6B,KAAK,EAAEzB,gBAAgB,CAAC0B,yBAA0B;QAAAC,QAAA,EACtDxB,IAAA,CAACL,eAAe,IAAE;MAAC,CACf,CACP;IACH,CAAC,MAAK;MACJsB,OAAO,GACLjB,IAAA,CAACP,IAAI;QAAC6B,KAAK,EAAEzB,gBAAgB,CAAC0B,yBAA0B;QAAAC,QAAA,EACtDxB,IAAA,CAACJ,iBAAiB;UAChB6B,aAAa,EAAE5B,gBAAgB,CAAC6B;QAA8B,CAC/D;MAAC,CACE,CACP;IACH;EACF,CAAC,MAAM,IAAIX,aAAa,EAAE;IACxB,IAAMY,cAAsB,GAAGtB,IAAI,CAACc,QAAQ,CAACC,MAAM,GAAGL,aAAa;IACnE,IAAIY,cAAc,KAAK,CAAC,EAAE,OAAO,IAAI;IACrCV,OAAO,GAAGnB,eAAe,CAAC6B,cAAc,EAAC,SAAS,EAAC,OAAO,EAAC,GAAG,EAAC,EAAE,CAAC;EACpE;EAEA,OAAOV,OAAO;AAChB,CAAC;AAED,eAAevB,OAAO,CAAC,IAAI,CAAC,CAACO,iBAAiB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}