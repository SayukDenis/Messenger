{"ast":null,"code":"import View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { memo, useCallback } from 'react';\nimport styles from \"../DialogueMessagesStyle\";\nimport React from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width,\n  height = _Dimensions$get.height;\nvar replyTextType = memo(function (_ref) {\n  var messages = _ref.messages,\n    message = _ref.message,\n    setMessageMenuVisible = _ref.setMessageMenuVisible,\n    id = _ref.id,\n    scrollView = _ref.scrollView,\n    cordsY = _ref.cordsY;\n  var handlePress = useCallback(function (event) {\n    var nativeEvent = event.nativeEvent;\n    var pageX = nativeEvent.pageX,\n      pageY = nativeEvent.pageY;\n    return {\n      x: (pageX < width / 8 ? width / 8 : pageX) > width * 0.6 ? width * 0.6 : pageX,\n      y: (pageY < height / 12 ? height / 12 : pageY) > height * 5 / 7 ? height * 5 / 7 : pageY,\n      ID: id\n    };\n  }, []);\n  var handleLinkTo = useCallback(function (messageID) {\n    var y = cordsY[--messageID][0] - (height * 0.88 / 2 - cordsY[messageID][1] / 2);\n    scrollView.current.scrollTo({\n      y: y,\n      animated: true\n    });\n  }, []);\n  var replyMessage = messages.find(function (m) {\n    return m.id === message.replyMessageID;\n  });\n  return message.isUser ? _jsxs(View, {\n    style: styles.replyContainer,\n    children: [_jsx(Text, {\n      style: styles.replyNickName,\n      children: \"Denis\"\n    }), _jsxs(View, {\n      style: styles.replyMessageContainer,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.replyMessageLink,\n        activeOpacity: 1,\n        onPress: function onPress() {\n          handleLinkTo(message.replyMessageID);\n        },\n        children: _jsx(View, {\n          style: [styles.messageTypeTextUser, styles.replyMessagePos],\n          children: _jsx(Text, {\n            style: styles.replyMessageFont,\n            children: replyMessage.text.length >= 20 ? replyMessage.text.slice(0, 20) + '...' : replyMessage.text\n          })\n        })\n      }), _jsx(View, {\n        style: styles.replyMessageLine\n      })]\n    }), _jsx(TouchableOpacity, {\n      activeOpacity: 1,\n      onPress: function onPress(event) {\n        setMessageMenuVisible(handlePress(event));\n      },\n      children: _jsxs(View, {\n        style: styles.messageContainer,\n        children: [_jsxs(View, {\n          style: styles.messageTypeTextUser,\n          children: [_jsx(Text, {\n            children: message.text\n          }), _jsxs(Text, {\n            style: styles.messageTimeStamp,\n            children: [new Date(message.timeStamp).getHours().toString().padStart(2, '0'), \":\", new Date(message.timeStamp).getMinutes().toString().padStart(2, '0')]\n          })]\n        }), _jsx(Text, {\n          style: {\n            alignSelf: 'center'\n          },\n          children: \"-\"\n        })]\n      })\n    })]\n  }) : _jsxs(View, {\n    style: styles.replyContainer,\n    children: [_jsx(Text, {\n      style: [styles.replyNickName, {\n        alignSelf: 'flex-start'\n      }],\n      children: \"You\"\n    }), _jsxs(View, {\n      style: styles.replyMessageContainer,\n      children: [_jsx(View, {\n        style: styles.replyMessageLine\n      }), _jsx(TouchableOpacity, {\n        style: {\n          flex: 1\n        },\n        activeOpacity: 1,\n        children: _jsx(View, {\n          style: [styles.messageTypeTextNotUser, styles.replyMessagePos],\n          children: _jsx(Text, {\n            style: styles.replyMessageFont,\n            children: replyMessage.text.length >= 20 ? replyMessage.text.slice(0, 20) + '...' : replyMessage.text\n          })\n        })\n      })]\n    }), _jsx(TouchableOpacity, {\n      activeOpacity: 1,\n      onPress: function onPress(event) {\n        setMessageMenuVisible(handlePress(event));\n      },\n      children: _jsx(View, {\n        style: styles.messageContainer,\n        children: _jsxs(View, {\n          style: message.text.length > 40 ? [styles.messageTypeTextNotUser, styles.longMessage] : styles.messageTypeTextNotUser,\n          children: [_jsx(Text, {\n            children: message.text\n          }), _jsxs(Text, {\n            style: message.text.length > 40 ? [styles.messageTimeStamp, styles.longMessageTimeStamp] : styles.messageTimeStamp,\n            children: [new Date(message.timeStamp).getHours().toString().padStart(2, '0'), \":\", new Date(message.timeStamp).getMinutes().toString().padStart(2, '0')]\n          })]\n        })\n      })\n    })]\n  });\n});\nexport default replyTextType;","map":{"version":3,"names":["memo","useCallback","styles","React","jsx","_jsx","jsxs","_jsxs","_Dimensions$get","Dimensions","get","width","height","replyTextType","_ref","messages","message","setMessageMenuVisible","id","scrollView","cordsY","handlePress","event","nativeEvent","pageX","pageY","x","y","ID","handleLinkTo","messageID","current","scrollTo","animated","replyMessage","find","m","replyMessageID","isUser","View","style","replyContainer","children","Text","replyNickName","replyMessageContainer","TouchableOpacity","replyMessageLink","activeOpacity","onPress","messageTypeTextUser","replyMessagePos","replyMessageFont","text","length","slice","replyMessageLine","messageContainer","messageTimeStamp","Date","timeStamp","getHours","toString","padStart","getMinutes","alignSelf","flex","messageTypeTextNotUser","longMessage","longMessageTimeStamp"],"sources":["/home/zatibmag/Desktop/Project/Messenger/Messenger/Pages/Chats/Dialogue/MessageViewsAndTypes/ReplyTextType.tsx"],"sourcesContent":["import { View, Text, TouchableOpacity, Dimensions, Alert } from 'react-native';\nimport { MutableRefObject, useState, memo, useCallback } from 'react'\nimport {Message, messages} from '../tmpdata';\nimport styles from '../DialogueMessagesStyle';\nimport handlePress from './DefaultTextType';\nimport React from 'react';\n\nconst {width, height} = Dimensions.get('window');\n\ninterface ReplyTextType {\n  messages:Message[];\n  message:Message;\n  setMessageMenuVisible:(arg0: {x:number, y:number, ID:number})=>void;\n  id:number;\n  scrollView:MutableRefObject<any>;\n  cordsY:any;\n}\n\nconst replyTextType = memo(({messages, message, setMessageMenuVisible, id, scrollView, cordsY}:ReplyTextType) => {\n  const handlePress = useCallback((event:{ nativeEvent: { pageX: number; pageY: number } }) => {\n    const { nativeEvent } = event;\n    const { pageX, pageY } = nativeEvent;\n    // Alert.alert('Aboba', `x:${pageX}\\nphoneX:${width}\\n\\ny:${pageY}\\nphoneY:${height}`)\n    return { x:(pageX<(width/8)?(width/8):pageX)>(width*0.6)?(width*0.6):pageX,\n             y:(pageY<(height/12)?(height/12):pageY)>(height*5/7)?(height*5/7):pageY,\n             ID: id };\n  }, []);\n  const handleLinkTo = useCallback((messageID:any) => {\n    //console.log(`coordsY: ${cordsY[--messageID][0]}\\nheight: ${cordsY[messageID][1]}`)\n    const y = cordsY[--messageID][0] - ((height*0.88)/2-cordsY[messageID][1]/2);\n    scrollView.current.scrollTo({y, animated:true});\n  }, []);\n  const replyMessage = messages.find(m => m.id === message.replyMessageID);\n    return message.isUser?\n    <View style={styles.replyContainer}>\n      <Text style={styles.replyNickName}>Denis</Text>\n      <View style={styles.replyMessageContainer}>\n        <TouchableOpacity style={styles.replyMessageLink} activeOpacity={1} onPress={() => {handleLinkTo(message!.replyMessageID)}}>\n          <View style={[styles.messageTypeTextUser, styles.replyMessagePos]}>\n            <Text style={styles.replyMessageFont}>{replyMessage!.text.length>=20?\n            replyMessage!.text.slice(0,20)+'...':replyMessage!.text}</Text>\n          </View>\n        </TouchableOpacity>\n        <View style={styles.replyMessageLine}/>\n      </View>\n      <TouchableOpacity activeOpacity={1} onPress={(event) => {setMessageMenuVisible(handlePress(event));}}>\n        <View style={styles.messageContainer}>\n          <View style={styles.messageTypeTextUser}>\n            <Text>{message.text}</Text>\n            <Text style={styles.messageTimeStamp}>\n              {new Date(message.timeStamp).getHours().toString().padStart(2, '0')}:\n              {new Date(message.timeStamp).getMinutes().toString().padStart(2, '0')}\n            </Text>\n          </View>\n          <Text style={{alignSelf:'center'}}>-</Text>\n        </View>\n      </TouchableOpacity>\n    </View>\n    :\n    <View style={styles.replyContainer}>\n      <Text style={[styles.replyNickName, {alignSelf:'flex-start'}]}>You</Text>\n      <View style={styles.replyMessageContainer}>\n        <View style={styles.replyMessageLine}/>\n        <TouchableOpacity style={{flex:1}} activeOpacity={1}>\n          <View style={[styles.messageTypeTextNotUser, styles.replyMessagePos]}>\n            <Text style={styles.replyMessageFont}>{replyMessage!.text.length>=20?\n            replyMessage!.text.slice(0,20)+'...':replyMessage!.text}</Text>\n          </View>\n        </TouchableOpacity>\n      </View>\n      <TouchableOpacity activeOpacity={1} onPress={(event) => {setMessageMenuVisible(handlePress(event));}}>\n        <View style={styles.messageContainer}>\n          <View style={message.text.length>40?[styles.messageTypeTextNotUser, styles.longMessage]:styles.messageTypeTextNotUser}>\n            <Text>{message.text}</Text>\n            <Text style={message.text.length>40?[styles.messageTimeStamp, styles.longMessageTimeStamp]:styles.messageTimeStamp}>\n              {new Date(message.timeStamp).getHours().toString().padStart(2, '0')}:\n              {new Date(message.timeStamp).getMinutes().toString().padStart(2, '0')}\n            </Text>\n          </View>\n        </View>\n      </TouchableOpacity>\n    </View>;\n});\n\nexport default replyTextType;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}