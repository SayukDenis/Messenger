{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { setCurrentPositionForChatList, setFolderSelectedArray, setSelectedFolderForChatList } from \"../../../ReducersAndActions/Actions/ChatListActions/ChatListActions\";\nimport ListOfFolder from \"./ListOfFolder\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { setAnimationState } from \"../../../ReducersAndActions/Actions/ChatListActions/ChatListActions\";\nimport Footer from \"./Footer\";\nimport { mySelfUser } from \"../1HelpFullFolder/Initialization\";\nimport ModalWindowFolderState from \"./List of folders containers/ModalWindowFolderState\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  screenWidth = _Dimensions$get.width,\n  screenHeight = _Dimensions$get.height;\nvar Main = function Main(_ref) {\n  var user = _ref.user,\n    isTouchableForHeader = _ref.isTouchableForHeader,\n    onPressForTouchableHeader = _ref.onPressForTouchableHeader;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedLongPressFolder = _useState2[0],\n    setSelectedLongPressFolder = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    startTime = _useState4[0],\n    setStartTime = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    endDragOfChatList = _useState6[0],\n    setEndDragOfChatList = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    endTime = _useState8[0],\n    setEndTime = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isVisibleForModalFolder = _useState10[0],\n    setisVisibleForModalFolder = _useState10[1];\n  var _useState11 = useState(0),\n    _useState12 = _slicedToArray(_useState11, 2),\n    positionX = _useState12[0],\n    setPositionX = _useState12[1];\n  var _useState13 = useState(0),\n    _useState14 = _slicedToArray(_useState13, 2),\n    positionXInContainer = _useState14[0],\n    setPositionXInContainer = _useState14[1];\n  var dispatch = useDispatch();\n  var animationState = useSelector(function (state) {\n    return state.animation.animationState;\n  });\n  var folderSelectedArray = useSelector(function (state) {\n    return state.folderSelectedArray.folderSelectedArray;\n  });\n  useEffect(function () {});\n  var selectFolder = useSelector(function (state) {\n    return state.selectedFolder.selectedFolder;\n  });\n  var scrollViewRef = useRef(null);\n  var scrollViewRefFooter = useRef(null);\n  var widths = useRef(user.folders.map(function () {\n    return screenWidth * 0.1831;\n  }));\n  var viewsRefs = [user.folders.forEach(function () {\n    return useRef(null);\n  })];\n  var positionsOfFolder = useRef(user.folders.map(function () {\n    return 0;\n  }));\n  var handleFolderPress = useRef(function (index) {\n    dispatch(setSelectedFolderForChatList(index));\n    var bufferFolderSelectedArray = _toConsumableArray(folderSelectedArray);\n    bufferFolderSelectedArray[selectFolder] = false;\n    bufferFolderSelectedArray[index] = true;\n    dispatch(setFolderSelectedArray(bufferFolderSelectedArray));\n    scrollToFolder(index);\n  });\n  var handleHorizontalScroll = function handleHorizontalScroll(event) {\n    var newHorizontalPosition = event.nativeEvent.contentOffset.x;\n    if (newHorizontalPosition < 0) {\n      newHorizontalPosition = 0;\n    } else if (newHorizontalPosition > screenWidth * (user.folders.length - 1)) {\n      newHorizontalPosition = screenWidth * (user.folders.length - 1);\n    }\n    dispatch(setCurrentPositionForChatList(newHorizontalPosition));\n    var newFolder = Math.round(newHorizontalPosition / screenWidth);\n    scrollToPosition(newHorizontalPosition);\n    if (newFolder != selectFolder) {\n      dispatch(setSelectedFolderForChatList(newFolder));\n      var bufferFolderSelectedArray = _toConsumableArray(folderSelectedArray);\n      bufferFolderSelectedArray[selectFolder] = false;\n      bufferFolderSelectedArray[newFolder] = true;\n      dispatch(setFolderSelectedArray(bufferFolderSelectedArray));\n    }\n  };\n  var scrollToFolder = function scrollToFolder(folderId) {\n    var _scrollViewRef$curren;\n    (_scrollViewRef$curren = scrollViewRef.current) == null ? void 0 : _scrollViewRef$curren.scrollToIndex({\n      index: folderId,\n      animated: true\n    });\n  };\n  var scrollToPosition = function scrollToPosition(currentPosition) {\n    var _scrollViewRefFooter$;\n    (_scrollViewRefFooter$ = scrollViewRefFooter.current) == null ? void 0 : _scrollViewRefFooter$.scrollTo({\n      x: -(screenWidth * 0.92) / 2 + widths.current[Math.round(currentPosition / screenWidth)] / 2 + ((currentPosition - screenWidth * Math.round(currentPosition / screenWidth)) % screenWidth / screenWidth * widths.current[Math.round(currentPosition / screenWidth)] + positionsOfFolder.current[Math.round(currentPosition / screenWidth)]),\n      animated: false\n    });\n  };\n  var handleLayout = useRef(function (event, index) {\n    var width = event.nativeEvent.layout.width;\n    var position = event.nativeEvent.layout.x;\n    var updatePosition = _toConsumableArray(positionsOfFolder.current);\n    updatePosition[index] = position;\n    positionsOfFolder.current = updatePosition;\n    var updatedWidths = _toConsumableArray(widths.current);\n    updatedWidths[index] = width;\n    widths.current = updatedWidths;\n  });\n  var handleLongPress = useRef(function (e, index) {\n    setSelectedLongPressFolder(index);\n    var target = e.nativeEvent;\n    setPositionX(target.pageX);\n    setPositionXInContainer(target.locationX);\n    if (target.pageX - target.locationX + widths[index] > screenWidth * 0.98) {\n      var _scrollViewRefFooter$2;\n      (_scrollViewRefFooter$2 = scrollViewRefFooter.current) == null ? void 0 : _scrollViewRefFooter$2.scrollTo({\n        x: positionsOfFolder[index] - screenWidth * 0.92 + widths[index],\n        animated: false\n      });\n      setPositionX(screenWidth * 0.964 - widths[index]);\n      setPositionXInContainer(0);\n    } else if (target.pageX - target.locationX < screenWidth * 0.04) {\n      var _scrollViewRefFooter$3;\n      (_scrollViewRefFooter$3 = scrollViewRefFooter.current) == null ? void 0 : _scrollViewRefFooter$3.scrollTo({\n        x: positionsOfFolder[index],\n        animated: false\n      });\n      setPositionX(screenWidth * 0.044);\n      setPositionXInContainer(0);\n    }\n    setisVisibleForModalFolder(true);\n    dispatch(setAnimationState(true));\n  });\n  var handlePress = function handlePress() {\n    setStartTime(Date.now());\n  };\n  function handlePressOut() {\n    setEndTime(Date.now());\n    var duration = startTime - endTime;\n    if (duration < 16) {\n      setisVisibleForModalFolder(false);\n      return;\n    }\n    setStartTime(Date.now());\n  }\n  var setAnimation = function setAnimation() {\n    dispatch(setAnimationState(false));\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(ModalWindowFolderState, {\n      isVisibleForModalFolder: isVisibleForModalFolder,\n      animationState: animationState,\n      selectedLongPressFolder: selectedLongPressFolder,\n      selectedFolder: selectFolder,\n      user: user,\n      positionX: positionX,\n      positionXInContainer: positionXInContainer,\n      widths: widths.current,\n      setAnimation: setAnimation,\n      handlePress: handlePress,\n      handlePressOut: handlePressOut\n    }), _jsx(FlatList, {\n      data: user.folders,\n      horizontal: true,\n      pagingEnabled: true,\n      ref: scrollViewRef,\n      showsHorizontalScrollIndicator: false,\n      scrollEventThrottle: 1,\n      nestedScrollEnabled: true,\n      style: {\n        marginTop: screenHeight * 0.05\n      },\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item,\n          index = _ref2.index;\n        return _jsx(View, {\n          children: _jsx(ListOfFolder, {\n            user: user,\n            currentFolder: index\n          }, index)\n        });\n      },\n      onScroll: handleHorizontalScroll,\n      windowSize: 3\n    }), _jsx(Footer, {\n      user: mySelfUser,\n      isTouchableForHeader: isTouchableForHeader,\n      scrollViewRefFooter: scrollViewRefFooter,\n      handleLayout: handleLayout,\n      isVisibleForModalFolder: isVisibleForModalFolder,\n      handleFolderPress: handleFolderPress,\n      handleLongPress: handleLongPress,\n      positionsOfFolder: positionsOfFolder,\n      widths: widths\n    }), isTouchableForHeader ? _jsx(TouchableOpacity, {\n      onPress: onPressForTouchableHeader,\n      style: {\n        height: screenHeight,\n        width: screenWidth,\n        position: \"absolute\",\n        zIndex: 4\n      }\n    }) : null]\n  });\n};\nexport default connect(null)(Main);","map":{"version":3,"names":["React","useRef","useState","useEffect","View","Dimensions","TouchableOpacity","setCurrentPositionForChatList","setFolderSelectedArray","setSelectedFolderForChatList","ListOfFolder","connect","useDispatch","useSelector","setAnimationState","Footer","mySelfUser","ModalWindowFolderState","FlatList","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","_Dimensions$get","get","screenWidth","width","screenHeight","height","Main","_ref","user","isTouchableForHeader","onPressForTouchableHeader","_useState","_useState2","_slicedToArray","selectedLongPressFolder","setSelectedLongPressFolder","_useState3","_useState4","startTime","setStartTime","_useState5","_useState6","endDragOfChatList","setEndDragOfChatList","_useState7","_useState8","endTime","setEndTime","_useState9","_useState10","isVisibleForModalFolder","setisVisibleForModalFolder","_useState11","_useState12","positionX","setPositionX","_useState13","_useState14","positionXInContainer","setPositionXInContainer","dispatch","animationState","state","animation","folderSelectedArray","selectFolder","selectedFolder","scrollViewRef","scrollViewRefFooter","widths","folders","map","viewsRefs","forEach","positionsOfFolder","handleFolderPress","index","bufferFolderSelectedArray","_toConsumableArray","scrollToFolder","handleHorizontalScroll","event","newHorizontalPosition","nativeEvent","contentOffset","x","length","newFolder","Math","round","scrollToPosition","folderId","_scrollViewRef$curren","current","scrollToIndex","animated","currentPosition","_scrollViewRefFooter$","scrollTo","handleLayout","layout","position","updatePosition","updatedWidths","handleLongPress","e","target","pageX","locationX","_scrollViewRefFooter$2","_scrollViewRefFooter$3","handlePress","Date","now","handlePressOut","duration","setAnimation","children","data","horizontal","pagingEnabled","ref","showsHorizontalScrollIndicator","scrollEventThrottle","nestedScrollEnabled","style","marginTop","keyExtractor","item","toString","renderItem","_ref2","currentFolder","onScroll","windowSize","onPress","zIndex"],"sources":["C:/Users/Admin/Project/Project/Messenger/Messenger/Pages/ChatList/Components/Main.tsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  ScrollView,\r\n  Dimensions,\r\n  Animated,\r\n  LayoutChangeEvent,\r\n  GestureResponderEvent,\r\n  Text,\r\n  TouchableOpacity,\r\n  StatusBar,\r\n} from \"react-native\";\r\nimport { setCurrentPositionForChatList, setFolderSelectedArray, setSelectedFolderForChatList } from \"../../../ReducersAndActions/Actions/ChatListActions/ChatListActions\";\r\nimport MySelfUser from \"../1HelpFullFolder/MySelfUser\";\r\nimport ListOfFolder from \"./ListOfFolder\";\r\nimport { connect, useDispatch, useSelector } from \"react-redux\";\r\nimport { setAnimationState } from \"../../../ReducersAndActions/Actions/ChatListActions/ChatListActions\";\r\nimport Footer from \"./Footer\";\r\nimport { mySelfUser } from \"../1HelpFullFolder/Initialization\";\r\nimport ModalWindowFolderState from \"./List of folders containers/ModalWindowFolderState\";\r\nimport { FlatList } from \"react-native\";\r\ninterface MainProps {\r\n  user: MySelfUser;\r\n  onPressForTouchableHeader: () => void;\r\n  isTouchableForHeader: boolean;\r\n}\r\n\r\nconst { width: screenWidth, height: screenHeight } = Dimensions.get(\"window\");\r\n\r\nconst Main: React.FC<MainProps> = ({\r\n  user,\r\n  isTouchableForHeader,\r\n  onPressForTouchableHeader,\r\n}) => {\r\n  const [selectedLongPressFolder, setSelectedLongPressFolder] =\r\n    useState<number>(0);\r\n  const [startTime, setStartTime] = useState(0);\r\n  const [endDragOfChatList,setEndDragOfChatList]=useState(true);\r\n  const [endTime, setEndTime] = useState(0);\r\n  const [isVisibleForModalFolder, setisVisibleForModalFolder] = useState(false);\r\n  const [positionX, setPositionX] = useState<number>(0);\r\n  const [positionXInContainer, setPositionXInContainer] = useState<number>(0);\r\n\r\n  const dispatch = useDispatch();\r\n  const animationState = useSelector((state: any) => {\r\n    return state.animation.animationState;\r\n  });\r\n  const folderSelectedArray=useSelector((state:any)=>{\r\n    return state.folderSelectedArray.folderSelectedArray;\r\n  })\r\n  useEffect(()=>{\r\n    //console.log(folderSelectedArray)\r\n  })\r\n const selectFolder=useSelector((state:any)=>{return state.selectedFolder.selectedFolder});\r\n\r\n  const scrollViewRef = useRef<FlatList | null>(null);\r\n  const scrollViewRefFooter = useRef<ScrollView | null>(null);\r\n\r\n  const widths = useRef<number[]>(\r\n    user.folders.map(() => screenWidth * 0.1831)\r\n  );\r\n  const viewsRefs: any = [user.folders.forEach(() => useRef(null))];\r\n  const positionsOfFolder = useRef<number[]>(\r\n    user.folders.map(() => 0)\r\n  );\r\n  \r\n \r\n \r\n  const handleFolderPress = useRef((index: number) => {\r\n    dispatch(setSelectedFolderForChatList(index));\r\n    let bufferFolderSelectedArray=[...folderSelectedArray];\r\n      bufferFolderSelectedArray[selectFolder]=false;\r\n      bufferFolderSelectedArray[index]=true;\r\n      dispatch(setFolderSelectedArray(bufferFolderSelectedArray))\r\n    scrollToFolder(index);\r\n\r\n  });\r\n\r\n\r\n  const handleHorizontalScroll = (event: any) => {\r\n    let newHorizontalPosition = event.nativeEvent.contentOffset.x;\r\n    if (newHorizontalPosition < 0) {\r\n      newHorizontalPosition = 0;\r\n    } else if (\r\n      newHorizontalPosition >\r\n      screenWidth * (user.folders.length - 1)\r\n    ) {\r\n      newHorizontalPosition = screenWidth * (user.folders.length - 1);\r\n    }\r\n    dispatch(setCurrentPositionForChatList(newHorizontalPosition))\r\n    const newFolder:number=Math.round(newHorizontalPosition / screenWidth);\r\n    scrollToPosition(newHorizontalPosition);\r\n    if(newFolder!=selectFolder){\r\n      dispatch(setSelectedFolderForChatList(newFolder))\r\n      let bufferFolderSelectedArray=[...folderSelectedArray];\r\n      bufferFolderSelectedArray[selectFolder]=false;\r\n      bufferFolderSelectedArray[newFolder]=true;\r\n      dispatch(setFolderSelectedArray(bufferFolderSelectedArray))\r\n      \r\n    }\r\n  };\r\n\r\n \r\n\r\n  const scrollToFolder = (folderId: number) => {\r\n    scrollViewRef.current?.scrollToIndex({\r\n      index: folderId,\r\n      animated: true,\r\n    });\r\n    //scrollToIconOnTouch(folderId)\r\n    \r\n  };\r\n  const scrollToPosition=(currentPosition:number)=>{\r\n    scrollViewRefFooter.current?.scrollTo({\r\n      x:   - (screenWidth * 0.92) / 2 + widths.current[Math.round(currentPosition / screenWidth)] / 2+((((currentPosition - screenWidth * Math.round(currentPosition / screenWidth)) %\r\n      screenWidth) /\r\n      screenWidth) *\r\n      widths.current[Math.round(currentPosition / screenWidth)] +\r\n      positionsOfFolder.current[Math.round(currentPosition / screenWidth)]),\r\n      animated:false,\r\n    });\r\n  }\r\n  \r\n  const handleLayout = useRef((event: LayoutChangeEvent, index: number) => {\r\n    const { width } = event.nativeEvent.layout;\r\n    const position = event.nativeEvent.layout.x;\r\n    const updatePosition = [...positionsOfFolder.current];\r\n    updatePosition[index] = position;\r\n    positionsOfFolder.current=updatePosition;\r\n    const updatedWidths = [...widths.current];\r\n    updatedWidths[index] = width;\r\n    widths.current=updatedWidths;\r\n  });\r\n\r\n  const handleLongPress =useRef( (e: GestureResponderEvent, index: number) => {\r\n    setSelectedLongPressFolder(index);\r\n    const target = e.nativeEvent;\r\n    setPositionX(target.pageX);\r\n    setPositionXInContainer(target.locationX);\r\n    if (target.pageX - target.locationX + widths[index] > screenWidth * 0.98) {\r\n      scrollViewRefFooter.current?.scrollTo({\r\n        x: positionsOfFolder[index] - screenWidth * 0.92 + widths[index],\r\n        animated: false,\r\n      });\r\n      setPositionX(screenWidth * 0.964 - widths[index]);\r\n      setPositionXInContainer(0);\r\n    } else if (target.pageX - target.locationX < screenWidth * 0.04) {\r\n      scrollViewRefFooter.current?.scrollTo({\r\n        x: positionsOfFolder[index],\r\n        animated: false,\r\n      });\r\n      setPositionX(screenWidth * 0.044);\r\n      setPositionXInContainer(0);\r\n    }\r\n    setisVisibleForModalFolder(true);\r\n    dispatch(setAnimationState(true));\r\n  });\r\n  const handlePress = () => {\r\n    setStartTime(Date.now());\r\n  };\r\n\r\n  function handlePressOut() {\r\n    setEndTime(Date.now());\r\n    const duration = startTime - endTime;\r\n    if (duration < 16) {\r\n      setisVisibleForModalFolder(false);\r\n      return;\r\n    }\r\n    setStartTime(Date.now());\r\n  }\r\n\r\n  const setAnimation = () => {\r\n    dispatch(setAnimationState(false));\r\n  };\r\n\r\n  return (\r\n    <>\r\n     \r\n     <ModalWindowFolderState\r\n        isVisibleForModalFolder={isVisibleForModalFolder}\r\n        animationState={animationState}\r\n        selectedLongPressFolder={selectedLongPressFolder}\r\n        selectedFolder={selectFolder}\r\n        user={user}\r\n        positionX={positionX}\r\n        positionXInContainer={positionXInContainer}\r\n        widths={widths.current}\r\n        setAnimation={setAnimation}\r\n        handlePress={handlePress}\r\n        handlePressOut={handlePressOut}\r\n      />\r\n      <FlatList\r\n        data={user.folders}\r\n        horizontal\r\n        pagingEnabled\r\n        ref={scrollViewRef}\r\n        showsHorizontalScrollIndicator={false}\r\n        scrollEventThrottle={1}\r\n        nestedScrollEnabled={true}\r\n        style={{ marginTop: screenHeight * 0.05 }}\r\n        keyExtractor={(item, index) => index.toString()}\r\n        renderItem={({ item, index }) => (\r\n          <View>\r\n            <ListOfFolder\r\n              key={index}\r\n              user={user}\r\n              currentFolder={index}\r\n            />\r\n          </View>\r\n        )}\r\n        onScroll={handleHorizontalScroll}\r\n       // onMomentumScrollBegin={()=>{}}\r\n        windowSize={3}\r\n        //initialNumToRender={3}\r\n      \r\n      />\r\n      <Footer\r\n        user={mySelfUser}\r\n        \r\n        isTouchableForHeader={isTouchableForHeader}\r\n        scrollViewRefFooter={scrollViewRefFooter}\r\n        handleLayout={handleLayout}\r\n        isVisibleForModalFolder={isVisibleForModalFolder}\r\n        \r\n        handleFolderPress={handleFolderPress}\r\n        handleLongPress={handleLongPress}\r\n        positionsOfFolder={positionsOfFolder}\r\n        widths={widths}\r\n      />\r\n\r\n      \r\n      {isTouchableForHeader ? (\r\n        <TouchableOpacity\r\n          onPress={onPressForTouchableHeader}\r\n          style={{\r\n            height: screenHeight,\r\n            width: screenWidth,\r\n            position: \"absolute\",\r\n            zIndex: 4,\r\n          }}\r\n        />\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default connect(null)(Main);\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,gBAAA;AAY3D,SAASC,6BAA6B,EAAEC,sBAAsB,EAAEC,4BAA4B;AAE5F,OAAOC,YAAY;AACnB,SAASC,OAAO,EAAEC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAC/D,SAASC,iBAAiB;AAC1B,OAAOC,MAAM;AACb,SAASC,UAAU;AACnB,OAAOC,sBAAsB;AAA4D,OAAAC,QAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAQzF,IAAAC,eAAA,GAAqDpB,UAAU,CAACqB,GAAG,CAAC,QAAQ,CAAC;EAA9DC,WAAW,GAAAF,eAAA,CAAlBG,KAAK;EAAuBC,YAAY,GAAAJ,eAAA,CAApBK,MAAM;AAElC,IAAMC,IAAyB,GAAG,SAA5BA,IAAyBA,CAAAC,IAAA,EAIzB;EAAA,IAHJC,IAAI,GAAAD,IAAA,CAAJC,IAAI;IACJC,oBAAoB,GAAAF,IAAA,CAApBE,oBAAoB;IACpBC,yBAAyB,GAAAH,IAAA,CAAzBG,yBAAyB;EAEzB,IAAAC,SAAA,GACElC,QAAQ,CAAS,CAAC,CAAC;IAAAmC,UAAA,GAAAC,cAAA,CAAAF,SAAA;IADdG,uBAAuB,GAAAF,UAAA;IAAEG,0BAA0B,GAAAH,UAAA;EAE1D,IAAAI,UAAA,GAAkCvC,QAAQ,CAAC,CAAC,CAAC;IAAAwC,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAtCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAC9B,IAAAG,UAAA,GAA+C3C,QAAQ,CAAC,IAAI,CAAC;IAAA4C,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAAtDE,iBAAiB,GAAAD,UAAA;IAACE,oBAAoB,GAAAF,UAAA;EAC7C,IAAAG,UAAA,GAA8B/C,QAAQ,CAAC,CAAC,CAAC;IAAAgD,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAAlCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAC1B,IAAAG,UAAA,GAA8DnD,QAAQ,CAAC,KAAK,CAAC;IAAAoD,WAAA,GAAAhB,cAAA,CAAAe,UAAA;IAAtEE,uBAAuB,GAAAD,WAAA;IAAEE,0BAA0B,GAAAF,WAAA;EAC1D,IAAAG,WAAA,GAAkCvD,QAAQ,CAAS,CAAC,CAAC;IAAAwD,WAAA,GAAApB,cAAA,CAAAmB,WAAA;IAA9CE,SAAS,GAAAD,WAAA;IAAEE,YAAY,GAAAF,WAAA;EAC9B,IAAAG,WAAA,GAAwD3D,QAAQ,CAAS,CAAC,CAAC;IAAA4D,WAAA,GAAAxB,cAAA,CAAAuB,WAAA;IAApEE,oBAAoB,GAAAD,WAAA;IAAEE,uBAAuB,GAAAF,WAAA;EAEpD,IAAMG,QAAQ,GAAGrD,WAAW,CAAC,CAAC;EAC9B,IAAMsD,cAAc,GAAGrD,WAAW,CAAC,UAACsD,KAAU,EAAK;IACjD,OAAOA,KAAK,CAACC,SAAS,CAACF,cAAc;EACvC,CAAC,CAAC;EACF,IAAMG,mBAAmB,GAACxD,WAAW,CAAC,UAACsD,KAAS,EAAG;IACjD,OAAOA,KAAK,CAACE,mBAAmB,CAACA,mBAAmB;EACtD,CAAC,CAAC;EACFlE,SAAS,CAAC,YAAI,CAEd,CAAC,CAAC;EACH,IAAMmE,YAAY,GAACzD,WAAW,CAAC,UAACsD,KAAS,EAAG;IAAC,OAAOA,KAAK,CAACI,cAAc,CAACA,cAAc;EAAA,CAAC,CAAC;EAExF,IAAMC,aAAa,GAAGvE,MAAM,CAAkB,IAAI,CAAC;EACnD,IAAMwE,mBAAmB,GAAGxE,MAAM,CAAoB,IAAI,CAAC;EAE3D,IAAMyE,MAAM,GAAGzE,MAAM,CACnBgC,IAAI,CAAC0C,OAAO,CAACC,GAAG,CAAC;IAAA,OAAMjD,WAAW,GAAG,MAAM;EAAA,EAC7C,CAAC;EACD,IAAMkD,SAAc,GAAG,CAAC5C,IAAI,CAAC0C,OAAO,CAACG,OAAO,CAAC;IAAA,OAAM7E,MAAM,CAAC,IAAI,CAAC;EAAA,EAAC,CAAC;EACjE,IAAM8E,iBAAiB,GAAG9E,MAAM,CAC9BgC,IAAI,CAAC0C,OAAO,CAACC,GAAG,CAAC;IAAA,OAAM,CAAC;EAAA,EAC1B,CAAC;EAID,IAAMI,iBAAiB,GAAG/E,MAAM,CAAC,UAACgF,KAAa,EAAK;IAClDhB,QAAQ,CAACxD,4BAA4B,CAACwE,KAAK,CAAC,CAAC;IAC7C,IAAIC,yBAAyB,GAAAC,kBAAA,CAAKd,mBAAmB,CAAC;IACpDa,yBAAyB,CAACZ,YAAY,CAAC,GAAC,KAAK;IAC7CY,yBAAyB,CAACD,KAAK,CAAC,GAAC,IAAI;IACrChB,QAAQ,CAACzD,sBAAsB,CAAC0E,yBAAyB,CAAC,CAAC;IAC7DE,cAAc,CAACH,KAAK,CAAC;EAEvB,CAAC,CAAC;EAGF,IAAMI,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAIC,KAAU,EAAK;IAC7C,IAAIC,qBAAqB,GAAGD,KAAK,CAACE,WAAW,CAACC,aAAa,CAACC,CAAC;IAC7D,IAAIH,qBAAqB,GAAG,CAAC,EAAE;MAC7BA,qBAAqB,GAAG,CAAC;IAC3B,CAAC,MAAM,IACLA,qBAAqB,GACrB5D,WAAW,IAAIM,IAAI,CAAC0C,OAAO,CAACgB,MAAM,GAAG,CAAC,CAAC,EACvC;MACAJ,qBAAqB,GAAG5D,WAAW,IAAIM,IAAI,CAAC0C,OAAO,CAACgB,MAAM,GAAG,CAAC,CAAC;IACjE;IACA1B,QAAQ,CAAC1D,6BAA6B,CAACgF,qBAAqB,CAAC,CAAC;IAC9D,IAAMK,SAAgB,GAACC,IAAI,CAACC,KAAK,CAACP,qBAAqB,GAAG5D,WAAW,CAAC;IACtEoE,gBAAgB,CAACR,qBAAqB,CAAC;IACvC,IAAGK,SAAS,IAAEtB,YAAY,EAAC;MACzBL,QAAQ,CAACxD,4BAA4B,CAACmF,SAAS,CAAC,CAAC;MACjD,IAAIV,yBAAyB,GAAAC,kBAAA,CAAKd,mBAAmB,CAAC;MACtDa,yBAAyB,CAACZ,YAAY,CAAC,GAAC,KAAK;MAC7CY,yBAAyB,CAACU,SAAS,CAAC,GAAC,IAAI;MACzC3B,QAAQ,CAACzD,sBAAsB,CAAC0E,yBAAyB,CAAC,CAAC;IAE7D;EACF,CAAC;EAID,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAIY,QAAgB,EAAK;IAAA,IAAAC,qBAAA;IAC3C,CAAAA,qBAAA,GAAAzB,aAAa,CAAC0B,OAAO,qBAArBD,qBAAA,CAAuBE,aAAa,CAAC;MACnClB,KAAK,EAAEe,QAAQ;MACfI,QAAQ,EAAE;IACZ,CAAC,CAAC;EAGJ,CAAC;EACD,IAAML,gBAAgB,GAAC,SAAjBA,gBAAgBA,CAAEM,eAAsB,EAAG;IAAA,IAAAC,qBAAA;IAC/C,CAAAA,qBAAA,GAAA7B,mBAAmB,CAACyB,OAAO,qBAA3BI,qBAAA,CAA6BC,QAAQ,CAAC;MACpCb,CAAC,EAAI,EAAG/D,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG+C,MAAM,CAACwB,OAAO,CAACL,IAAI,CAACC,KAAK,CAACO,eAAe,GAAG1E,WAAW,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC0E,eAAe,GAAG1E,WAAW,GAAGkE,IAAI,CAACC,KAAK,CAACO,eAAe,GAAG1E,WAAW,CAAC,IAC7KA,WAAW,GACXA,WAAW,GACX+C,MAAM,CAACwB,OAAO,CAACL,IAAI,CAACC,KAAK,CAACO,eAAe,GAAG1E,WAAW,CAAC,CAAC,GACzDoD,iBAAiB,CAACmB,OAAO,CAACL,IAAI,CAACC,KAAK,CAACO,eAAe,GAAG1E,WAAW,CAAC,CAAC,CAAC;MACrEyE,QAAQ,EAAC;IACX,CAAC,CAAC;EACJ,CAAC;EAED,IAAMI,YAAY,GAAGvG,MAAM,CAAC,UAACqF,KAAwB,EAAEL,KAAa,EAAK;IACvE,IAAQrD,KAAK,GAAK0D,KAAK,CAACE,WAAW,CAACiB,MAAM,CAAlC7E,KAAK;IACb,IAAM8E,QAAQ,GAAGpB,KAAK,CAACE,WAAW,CAACiB,MAAM,CAACf,CAAC;IAC3C,IAAMiB,cAAc,GAAAxB,kBAAA,CAAOJ,iBAAiB,CAACmB,OAAO,CAAC;IACrDS,cAAc,CAAC1B,KAAK,CAAC,GAAGyB,QAAQ;IAChC3B,iBAAiB,CAACmB,OAAO,GAACS,cAAc;IACxC,IAAMC,aAAa,GAAAzB,kBAAA,CAAOT,MAAM,CAACwB,OAAO,CAAC;IACzCU,aAAa,CAAC3B,KAAK,CAAC,GAAGrD,KAAK;IAC5B8C,MAAM,CAACwB,OAAO,GAACU,aAAa;EAC9B,CAAC,CAAC;EAEF,IAAMC,eAAe,GAAE5G,MAAM,CAAE,UAAC6G,CAAwB,EAAE7B,KAAa,EAAK;IAC1EzC,0BAA0B,CAACyC,KAAK,CAAC;IACjC,IAAM8B,MAAM,GAAGD,CAAC,CAACtB,WAAW;IAC5B5B,YAAY,CAACmD,MAAM,CAACC,KAAK,CAAC;IAC1BhD,uBAAuB,CAAC+C,MAAM,CAACE,SAAS,CAAC;IACzC,IAAIF,MAAM,CAACC,KAAK,GAAGD,MAAM,CAACE,SAAS,GAAGvC,MAAM,CAACO,KAAK,CAAC,GAAGtD,WAAW,GAAG,IAAI,EAAE;MAAA,IAAAuF,sBAAA;MACxE,CAAAA,sBAAA,GAAAzC,mBAAmB,CAACyB,OAAO,qBAA3BgB,sBAAA,CAA6BX,QAAQ,CAAC;QACpCb,CAAC,EAAEX,iBAAiB,CAACE,KAAK,CAAC,GAAGtD,WAAW,GAAG,IAAI,GAAG+C,MAAM,CAACO,KAAK,CAAC;QAChEmB,QAAQ,EAAE;MACZ,CAAC,CAAC;MACFxC,YAAY,CAACjC,WAAW,GAAG,KAAK,GAAG+C,MAAM,CAACO,KAAK,CAAC,CAAC;MACjDjB,uBAAuB,CAAC,CAAC,CAAC;IAC5B,CAAC,MAAM,IAAI+C,MAAM,CAACC,KAAK,GAAGD,MAAM,CAACE,SAAS,GAAGtF,WAAW,GAAG,IAAI,EAAE;MAAA,IAAAwF,sBAAA;MAC/D,CAAAA,sBAAA,GAAA1C,mBAAmB,CAACyB,OAAO,qBAA3BiB,sBAAA,CAA6BZ,QAAQ,CAAC;QACpCb,CAAC,EAAEX,iBAAiB,CAACE,KAAK,CAAC;QAC3BmB,QAAQ,EAAE;MACZ,CAAC,CAAC;MACFxC,YAAY,CAACjC,WAAW,GAAG,KAAK,CAAC;MACjCqC,uBAAuB,CAAC,CAAC,CAAC;IAC5B;IACAR,0BAA0B,CAAC,IAAI,CAAC;IAChCS,QAAQ,CAACnD,iBAAiB,CAAC,IAAI,CAAC,CAAC;EACnC,CAAC,CAAC;EACF,IAAMsG,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;IACxBxE,YAAY,CAACyE,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EAC1B,CAAC;EAED,SAASC,cAAcA,CAAA,EAAG;IACxBnE,UAAU,CAACiE,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;IACtB,IAAME,QAAQ,GAAG7E,SAAS,GAAGQ,OAAO;IACpC,IAAIqE,QAAQ,GAAG,EAAE,EAAE;MACjBhE,0BAA0B,CAAC,KAAK,CAAC;MACjC;IACF;IACAZ,YAAY,CAACyE,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EAC1B;EAEA,IAAMG,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;IACzBxD,QAAQ,CAACnD,iBAAiB,CAAC,KAAK,CAAC,CAAC;EACpC,CAAC;EAED,OACEU,KAAA,CAAAF,SAAA;IAAAoG,QAAA,GAECtG,IAAA,CAACH,sBAAsB;MACpBsC,uBAAuB,EAAEA,uBAAwB;MACjDW,cAAc,EAAEA,cAAe;MAC/B3B,uBAAuB,EAAEA,uBAAwB;MACjDgC,cAAc,EAAED,YAAa;MAC7BrC,IAAI,EAAEA,IAAK;MACX0B,SAAS,EAAEA,SAAU;MACrBI,oBAAoB,EAAEA,oBAAqB;MAC3CW,MAAM,EAAEA,MAAM,CAACwB,OAAQ;MACvBuB,YAAY,EAAEA,YAAa;MAC3BL,WAAW,EAAEA,WAAY;MACzBG,cAAc,EAAEA;IAAe,CAChC,CAAC,EACFnG,IAAA,CAACF,QAAQ;MACPyG,IAAI,EAAE1F,IAAI,CAAC0C,OAAQ;MACnBiD,UAAU;MACVC,aAAa;MACbC,GAAG,EAAEtD,aAAc;MACnBuD,8BAA8B,EAAE,KAAM;MACtCC,mBAAmB,EAAE,CAAE;MACvBC,mBAAmB,EAAE,IAAK;MAC1BC,KAAK,EAAE;QAAEC,SAAS,EAAEtG,YAAY,GAAG;MAAK,CAAE;MAC1CuG,YAAY,EAAE,SAAAA,aAACC,IAAI,EAAEpD,KAAK;QAAA,OAAKA,KAAK,CAACqD,QAAQ,CAAC,CAAC;MAAA,CAAC;MAChDC,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGH,IAAI,GAAAG,KAAA,CAAJH,IAAI;UAAEpD,KAAK,GAAAuD,KAAA,CAALvD,KAAK;QAAA,OACxB7D,IAAA,CAAChB,IAAI;UAAAsH,QAAA,EACHtG,IAAA,CAACV,YAAY;YAEXuB,IAAI,EAAEA,IAAK;YACXwG,aAAa,EAAExD;UAAM,GAFhBA,KAGN;QAAC,CACE,CAAC;MAAA,CACP;MACFyD,QAAQ,EAAErD,sBAAuB;MAEjCsD,UAAU,EAAE;IAAE,CAGf,CAAC,EACFvH,IAAA,CAACL,MAAM;MACLkB,IAAI,EAAEjB,UAAW;MAEjBkB,oBAAoB,EAAEA,oBAAqB;MAC3CuC,mBAAmB,EAAEA,mBAAoB;MACzC+B,YAAY,EAAEA,YAAa;MAC3BjD,uBAAuB,EAAEA,uBAAwB;MAEjDyB,iBAAiB,EAAEA,iBAAkB;MACrC6B,eAAe,EAAEA,eAAgB;MACjC9B,iBAAiB,EAAEA,iBAAkB;MACrCL,MAAM,EAAEA;IAAO,CAChB,CAAC,EAGDxC,oBAAoB,GACnBd,IAAA,CAACd,gBAAgB;MACfsI,OAAO,EAAEzG,yBAA0B;MACnC+F,KAAK,EAAE;QACLpG,MAAM,EAAED,YAAY;QACpBD,KAAK,EAAED,WAAW;QAClB+E,QAAQ,EAAE,UAAU;QACpBmC,MAAM,EAAE;MACV;IAAE,CACH,CAAC,GACA,IAAI;EAAA,CACR,CAAC;AAEP,CAAC;AAED,eAAelI,OAAO,CAAC,IAAI,CAAC,CAACoB,IAAI,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}