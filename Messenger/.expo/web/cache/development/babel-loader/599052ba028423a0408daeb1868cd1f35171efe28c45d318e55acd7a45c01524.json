{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { styles } from \"./ProfileGroupStyles\";\nimport { PersonMenu } from \"./PersonMenu\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport var User = function User(props) {\n  var _useState = useState(props.members.map(function () {\n      return true;\n    })),\n    _useState2 = _slicedToArray(_useState, 2),\n    visibleState = _useState2[0],\n    setVisibleState = _useState2[1];\n  var _useState3 = useState(-1),\n    _useState4 = _slicedToArray(_useState3, 2),\n    whatMenuVisible = _useState4[0],\n    setWhatMenuVisible = _useState4[1];\n  var handleMenuPress = function handleMenuPress(index) {\n    setWhatMenuVisible(index);\n  };\n  var _handleTrashPress = function handleTrashPress(index) {\n    var updatedVisibleState = _toConsumableArray(visibleState);\n    updatedVisibleState[index] = false;\n    setVisibleState(updatedVisibleState);\n    setWhatMenuVisible(-1);\n  };\n  return _jsx(View, {\n    children: props.members.map(function (item, index) {\n      if (!visibleState[index]) {\n        return null;\n      }\n      return _jsxs(TouchableOpacity, {\n        style: styles.PersonBg,\n        onLongPress: function onLongPress() {\n          return handleMenuPress(index);\n        },\n        children: [_jsx(Image, {\n          style: styles.PersonIcon,\n          source: {\n            uri: props.ImagePath\n          }\n        }), _jsx(Text, {\n          style: styles.PersonNick,\n          children: item.name\n        }), whatMenuVisible === index && _jsx(PersonMenu, {\n          setWhatMenuVisible: setWhatMenuVisible,\n          handleTrashPress: function handleTrashPress() {\n            return _handleTrashPress(index);\n          }\n        })]\n      }, index);\n    })\n  });\n};","map":{"version":3,"names":["React","useState","Text","View","TouchableOpacity","Image","styles","PersonMenu","jsx","_jsx","jsxs","_jsxs","User","props","_useState","members","map","_useState2","_slicedToArray","visibleState","setVisibleState","_useState3","_useState4","whatMenuVisible","setWhatMenuVisible","handleMenuPress","index","handleTrashPress","updatedVisibleState","_toConsumableArray","children","item","style","PersonBg","onLongPress","PersonIcon","source","uri","ImagePath","PersonNick","name"],"sources":["C:/Users/T480/source/repos/Messenger/Messenger/Pages/Profiles/GroupProfile/EditGroup/UserProfile.tsx"],"sourcesContent":["// Viktor Hraboviuk\r\nimport React, { useState } from \"react\";\r\nimport { Text, View, TouchableOpacity, Image } from \"react-native\";\r\nimport { styles } from \"./ProfileGroupStyles\";\r\nimport {\r\n  UserProps,\r\n  user,\r\n} from \"../../SemiComponents/DatabaseSimulation/DBUser\";\r\nimport { PersonMenu } from \"./PersonMenu\";\r\n\r\nexport const User: React.FC<UserProps> = (props) => {\r\n  const [visibleState, setVisibleState] = useState(\r\n    props.members.map(() => true)\r\n  );\r\n  const [whatMenuVisible, setWhatMenuVisible] = useState(-1);\r\n\r\n  const handleMenuPress = (index: number) => {\r\n    setWhatMenuVisible(index);\r\n  };\r\n\r\n  const handleTrashPress = (index: number) => {\r\n    const updatedVisibleState = [...visibleState];\r\n    updatedVisibleState[index] = false;\r\n    setVisibleState(updatedVisibleState);\r\n    setWhatMenuVisible(-1);\r\n  };\r\n\r\n  return (\r\n    <View>\r\n      {props.members.map((item, index) => {\r\n        // Перевірка видимості для кожного конкретного юзера\r\n        if (!visibleState[index]) {\r\n          return null;\r\n        }\r\n\r\n        return (\r\n          <TouchableOpacity\r\n            key={index}\r\n            style={styles.PersonBg}\r\n            onLongPress={() => handleMenuPress(index)}\r\n          >\r\n            <Image\r\n              style={styles.PersonIcon}\r\n              source={{ uri: props.ImagePath }}\r\n            />\r\n            <Text style={styles.PersonNick}>{item.name}</Text>\r\n            {whatMenuVisible === index && (\r\n              <PersonMenu\r\n                setWhatMenuVisible={setWhatMenuVisible}\r\n                handleTrashPress={() => handleTrashPress(index)}\r\n              />\r\n            )}\r\n          </TouchableOpacity>\r\n        );\r\n      })}\r\n    </View>\r\n  );\r\n};\r\n"],"mappings":";;AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,KAAA;AAExC,SAASC,MAAM;AAKf,SAASC,UAAU;AAAuB,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE1C,OAAO,IAAMC,IAAyB,GAAG,SAA5BA,IAAyBA,CAAIC,KAAK,EAAK;EAClD,IAAAC,SAAA,GAAwCb,QAAQ,CAC9CY,KAAK,CAACE,OAAO,CAACC,GAAG,CAAC;MAAA,OAAM,IAAI;IAAA,EAC9B,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAJ,SAAA;IAFMK,YAAY,GAAAF,UAAA;IAAEG,eAAe,GAAAH,UAAA;EAGpC,IAAAI,UAAA,GAA8CpB,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAAqB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAnDE,eAAe,GAAAD,UAAA;IAAEE,kBAAkB,GAAAF,UAAA;EAE1C,IAAMG,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,KAAa,EAAK;IACzCF,kBAAkB,CAACE,KAAK,CAAC;EAC3B,CAAC;EAED,IAAMC,iBAAgB,GAAG,SAAnBA,gBAAgBA,CAAID,KAAa,EAAK;IAC1C,IAAME,mBAAmB,GAAAC,kBAAA,CAAOV,YAAY,CAAC;IAC7CS,mBAAmB,CAACF,KAAK,CAAC,GAAG,KAAK;IAClCN,eAAe,CAACQ,mBAAmB,CAAC;IACpCJ,kBAAkB,CAAC,CAAC,CAAC,CAAC;EACxB,CAAC;EAED,OACEf,IAAA,CAACN,IAAI;IAAA2B,QAAA,EACFjB,KAAK,CAACE,OAAO,CAACC,GAAG,CAAC,UAACe,IAAI,EAAEL,KAAK,EAAK;MAElC,IAAI,CAACP,YAAY,CAACO,KAAK,CAAC,EAAE;QACxB,OAAO,IAAI;MACb;MAEA,OACEf,KAAA,CAACP,gBAAgB;QAEf4B,KAAK,EAAE1B,MAAM,CAAC2B,QAAS;QACvBC,WAAW,EAAE,SAAAA,YAAA;UAAA,OAAMT,eAAe,CAACC,KAAK,CAAC;QAAA,CAAC;QAAAI,QAAA,GAE1CrB,IAAA,CAACJ,KAAK;UACJ2B,KAAK,EAAE1B,MAAM,CAAC6B,UAAW;UACzBC,MAAM,EAAE;YAAEC,GAAG,EAAExB,KAAK,CAACyB;UAAU;QAAE,CAClC,CAAC,EACF7B,IAAA,CAACP,IAAI;UAAC8B,KAAK,EAAE1B,MAAM,CAACiC,UAAW;UAAAT,QAAA,EAAEC,IAAI,CAACS;QAAI,CAAO,CAAC,EACjDjB,eAAe,KAAKG,KAAK,IACxBjB,IAAA,CAACF,UAAU;UACTiB,kBAAkB,EAAEA,kBAAmB;UACvCG,gBAAgB,EAAE,SAAAA,iBAAA;YAAA,OAAMA,iBAAgB,CAACD,KAAK,CAAC;UAAA;QAAC,CACjD,CACF;MAAA,GAdIA,KAeW,CAAC;IAEvB,CAAC;EAAC,CACE,CAAC;AAEX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}