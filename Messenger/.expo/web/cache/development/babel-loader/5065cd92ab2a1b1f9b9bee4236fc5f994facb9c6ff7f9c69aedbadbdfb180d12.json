{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport RCTDeviceEventEmitter from \"../EventEmitter/RCTDeviceEventEmitter\";\nimport EventEmitter from \"../vendor/emitter/EventEmitter\";\nimport NativeDeviceInfo from \"./NativeDeviceInfo\";\nimport invariant from 'invariant';\nvar eventEmitter = new EventEmitter();\nvar dimensionsInitialized = false;\nvar dimensions;\nvar Dimensions = function () {\n  function Dimensions() {\n    _classCallCheck(this, Dimensions);\n  }\n  _createClass(Dimensions, null, [{\n    key: \"get\",\n    value: function get(dim) {\n      invariant(dimensions[dim], 'No dimension set for key ' + dim);\n      return dimensions[dim];\n    }\n  }, {\n    key: \"set\",\n    value: function set(dims) {\n      var screen = dims.screen,\n        window = dims.window;\n      var windowPhysicalPixels = dims.windowPhysicalPixels;\n      if (windowPhysicalPixels) {\n        window = {\n          width: windowPhysicalPixels.width / windowPhysicalPixels.scale,\n          height: windowPhysicalPixels.height / windowPhysicalPixels.scale,\n          scale: windowPhysicalPixels.scale,\n          fontScale: windowPhysicalPixels.fontScale\n        };\n      }\n      var screenPhysicalPixels = dims.screenPhysicalPixels;\n      if (screenPhysicalPixels) {\n        screen = {\n          width: screenPhysicalPixels.width / screenPhysicalPixels.scale,\n          height: screenPhysicalPixels.height / screenPhysicalPixels.scale,\n          scale: screenPhysicalPixels.scale,\n          fontScale: screenPhysicalPixels.fontScale\n        };\n      } else if (screen == null) {\n        screen = window;\n      }\n      dimensions = {\n        window: window,\n        screen: screen\n      };\n      if (dimensionsInitialized) {\n        eventEmitter.emit('change', dimensions);\n      } else {\n        dimensionsInitialized = true;\n      }\n    }\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(type, handler) {\n      invariant(type === 'change', 'Trying to subscribe to unknown event: \"%s\"', type);\n      return eventEmitter.addListener(type, handler);\n    }\n  }]);\n  return Dimensions;\n}();\nvar initialDims = global.nativeExtensions && global.nativeExtensions.DeviceInfo && global.nativeExtensions.DeviceInfo.Dimensions;\nif (!initialDims) {\n  RCTDeviceEventEmitter.addListener('didUpdateDimensions', function (update) {\n    Dimensions.set(update);\n  });\n  initialDims = NativeDeviceInfo.getConstants().Dimensions;\n}\nDimensions.set(initialDims);\nexport default Dimensions;","map":{"version":3,"names":["RCTDeviceEventEmitter","EventEmitter","NativeDeviceInfo","invariant","eventEmitter","dimensionsInitialized","dimensions","Dimensions","_classCallCheck","_createClass","key","value","get","dim","set","dims","screen","window","windowPhysicalPixels","width","scale","height","fontScale","screenPhysicalPixels","emit","addEventListener","type","handler","addListener","initialDims","global","nativeExtensions","DeviceInfo","update","getConstants"],"sources":["D:/project/try1/Messenger/Messenger/node_modules/react-native/Libraries/Utilities/Dimensions.js"],"sourcesContent":["/**\r\n * Copyright (c) Meta Platforms, Inc. and affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @format\r\n * @flow\r\n */\r\n\r\nimport RCTDeviceEventEmitter from '../EventEmitter/RCTDeviceEventEmitter';\r\nimport EventEmitter, {\r\n  type EventSubscription,\r\n} from '../vendor/emitter/EventEmitter';\r\nimport NativeDeviceInfo, {\r\n  type DimensionsPayload,\r\n  type DisplayMetrics,\r\n  type DisplayMetricsAndroid,\r\n} from './NativeDeviceInfo';\r\nimport invariant from 'invariant';\r\n\r\nconst eventEmitter = new EventEmitter<{\r\n  change: [DimensionsPayload],\r\n}>();\r\nlet dimensionsInitialized = false;\r\nlet dimensions: DimensionsPayload;\r\n\r\nclass Dimensions {\r\n  /**\r\n   * NOTE: `useWindowDimensions` is the preferred API for React components.\r\n   *\r\n   * Initial dimensions are set before `runApplication` is called so they should\r\n   * be available before any other require's are run, but may be updated later.\r\n   *\r\n   * Note: Although dimensions are available immediately, they may change (e.g\r\n   * due to device rotation) so any rendering logic or styles that depend on\r\n   * these constants should try to call this function on every render, rather\r\n   * than caching the value (for example, using inline styles rather than\r\n   * setting a value in a `StyleSheet`).\r\n   *\r\n   * Example: `const {height, width} = Dimensions.get('window');`\r\n   *\r\n   * @param {string} dim Name of dimension as defined when calling `set`.\r\n   * @returns {DisplayMetrics? | DisplayMetricsAndroid?} Value for the dimension.\r\n   */\r\n  static get(dim: string): DisplayMetrics | DisplayMetricsAndroid {\r\n    invariant(dimensions[dim], 'No dimension set for key ' + dim);\r\n    return dimensions[dim];\r\n  }\r\n\r\n  /**\r\n   * This should only be called from native code by sending the\r\n   * didUpdateDimensions event.\r\n   *\r\n   * @param {DimensionsPayload} dims Simple string-keyed object of dimensions to set\r\n   */\r\n  static set(dims: $ReadOnly<DimensionsPayload>): void {\r\n    // We calculate the window dimensions in JS so that we don't encounter loss of\r\n    // precision in transferring the dimensions (which could be non-integers) over\r\n    // the bridge.\r\n    let {screen, window} = dims;\r\n    const {windowPhysicalPixels} = dims;\r\n    if (windowPhysicalPixels) {\r\n      window = {\r\n        width: windowPhysicalPixels.width / windowPhysicalPixels.scale,\r\n        height: windowPhysicalPixels.height / windowPhysicalPixels.scale,\r\n        scale: windowPhysicalPixels.scale,\r\n        fontScale: windowPhysicalPixels.fontScale,\r\n      };\r\n    }\r\n    const {screenPhysicalPixels} = dims;\r\n    if (screenPhysicalPixels) {\r\n      screen = {\r\n        width: screenPhysicalPixels.width / screenPhysicalPixels.scale,\r\n        height: screenPhysicalPixels.height / screenPhysicalPixels.scale,\r\n        scale: screenPhysicalPixels.scale,\r\n        fontScale: screenPhysicalPixels.fontScale,\r\n      };\r\n    } else if (screen == null) {\r\n      screen = window;\r\n    }\r\n\r\n    dimensions = {window, screen};\r\n    if (dimensionsInitialized) {\r\n      // Don't fire 'change' the first time the dimensions are set.\r\n      eventEmitter.emit('change', dimensions);\r\n    } else {\r\n      dimensionsInitialized = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Add an event handler. Supported events:\r\n   *\r\n   * - `change`: Fires when a property within the `Dimensions` object changes. The argument\r\n   *   to the event handler is an object with `window` and `screen` properties whose values\r\n   *   are the same as the return values of `Dimensions.get('window')` and\r\n   *   `Dimensions.get('screen')`, respectively.\r\n   */\r\n  static addEventListener(\r\n    type: 'change',\r\n    handler: Function,\r\n  ): EventSubscription {\r\n    invariant(\r\n      type === 'change',\r\n      'Trying to subscribe to unknown event: \"%s\"',\r\n      type,\r\n    );\r\n    return eventEmitter.addListener(type, handler);\r\n  }\r\n}\r\n\r\nlet initialDims: ?$ReadOnly<DimensionsPayload> =\r\n  global.nativeExtensions &&\r\n  global.nativeExtensions.DeviceInfo &&\r\n  global.nativeExtensions.DeviceInfo.Dimensions;\r\nif (!initialDims) {\r\n  // Subscribe before calling getConstants to make sure we don't miss any updates in between.\r\n  RCTDeviceEventEmitter.addListener(\r\n    'didUpdateDimensions',\r\n    (update: DimensionsPayload) => {\r\n      Dimensions.set(update);\r\n    },\r\n  );\r\n  initialDims = NativeDeviceInfo.getConstants().Dimensions;\r\n}\r\n\r\nDimensions.set(initialDims);\r\n\r\nexport default Dimensions;\r\n"],"mappings":";;AAUA,OAAOA,qBAAqB;AAC5B,OAAOC,YAAY;AAGnB,OAAOC,gBAAgB;AAKvB,OAAOC,SAAS,MAAM,WAAW;AAEjC,IAAMC,YAAY,GAAG,IAAIH,YAAY,CAElC,CAAC;AACJ,IAAII,qBAAqB,GAAG,KAAK;AACjC,IAAIC,UAA6B;AAAC,IAE5BC,UAAU;EAAA,SAAAA,WAAA;IAAAC,eAAA,OAAAD,UAAA;EAAA;EAAAE,YAAA,CAAAF,UAAA;IAAAG,GAAA;IAAAC,KAAA,EAkBd,SAAAC,IAAWC,GAAW,EAA0C;MAC9DV,SAAS,CAACG,UAAU,CAACO,GAAG,CAAC,EAAE,2BAA2B,GAAGA,GAAG,CAAC;MAC7D,OAAOP,UAAU,CAACO,GAAG,CAAC;IACxB;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAQD,SAAAG,IAAWC,IAAkC,EAAQ;MAInD,IAAKC,MAAM,GAAYD,IAAI,CAAtBC,MAAM;QAAEC,MAAM,GAAIF,IAAI,CAAdE,MAAM;MACnB,IAAOC,oBAAoB,GAAIH,IAAI,CAA5BG,oBAAoB;MAC3B,IAAIA,oBAAoB,EAAE;QACxBD,MAAM,GAAG;UACPE,KAAK,EAAED,oBAAoB,CAACC,KAAK,GAAGD,oBAAoB,CAACE,KAAK;UAC9DC,MAAM,EAAEH,oBAAoB,CAACG,MAAM,GAAGH,oBAAoB,CAACE,KAAK;UAChEA,KAAK,EAAEF,oBAAoB,CAACE,KAAK;UACjCE,SAAS,EAAEJ,oBAAoB,CAACI;QAClC,CAAC;MACH;MACA,IAAOC,oBAAoB,GAAIR,IAAI,CAA5BQ,oBAAoB;MAC3B,IAAIA,oBAAoB,EAAE;QACxBP,MAAM,GAAG;UACPG,KAAK,EAAEI,oBAAoB,CAACJ,KAAK,GAAGI,oBAAoB,CAACH,KAAK;UAC9DC,MAAM,EAAEE,oBAAoB,CAACF,MAAM,GAAGE,oBAAoB,CAACH,KAAK;UAChEA,KAAK,EAAEG,oBAAoB,CAACH,KAAK;UACjCE,SAAS,EAAEC,oBAAoB,CAACD;QAClC,CAAC;MACH,CAAC,MAAM,IAAIN,MAAM,IAAI,IAAI,EAAE;QACzBA,MAAM,GAAGC,MAAM;MACjB;MAEAX,UAAU,GAAG;QAACW,MAAM,EAANA,MAAM;QAAED,MAAM,EAANA;MAAM,CAAC;MAC7B,IAAIX,qBAAqB,EAAE;QAEzBD,YAAY,CAACoB,IAAI,CAAC,QAAQ,EAAElB,UAAU,CAAC;MACzC,CAAC,MAAM;QACLD,qBAAqB,GAAG,IAAI;MAC9B;IACF;EAAC;IAAAK,GAAA;IAAAC,KAAA,EAUD,SAAAc,iBACEC,IAAc,EACdC,OAAiB,EACE;MACnBxB,SAAS,CACPuB,IAAI,KAAK,QAAQ,EACjB,4CAA4C,EAC5CA,IACF,CAAC;MACD,OAAOtB,YAAY,CAACwB,WAAW,CAACF,IAAI,EAAEC,OAAO,CAAC;IAChD;EAAC;EAAA,OAAApB,UAAA;AAAA;AAGH,IAAIsB,WAA0C,GAC5CC,MAAM,CAACC,gBAAgB,IACvBD,MAAM,CAACC,gBAAgB,CAACC,UAAU,IAClCF,MAAM,CAACC,gBAAgB,CAACC,UAAU,CAACzB,UAAU;AAC/C,IAAI,CAACsB,WAAW,EAAE;EAEhB7B,qBAAqB,CAAC4B,WAAW,CAC/B,qBAAqB,EACrB,UAACK,MAAyB,EAAK;IAC7B1B,UAAU,CAACO,GAAG,CAACmB,MAAM,CAAC;EACxB,CACF,CAAC;EACDJ,WAAW,GAAG3B,gBAAgB,CAACgC,YAAY,CAAC,CAAC,CAAC3B,UAAU;AAC1D;AAEAA,UAAU,CAACO,GAAG,CAACe,WAAW,CAAC;AAE3B,eAAetB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}