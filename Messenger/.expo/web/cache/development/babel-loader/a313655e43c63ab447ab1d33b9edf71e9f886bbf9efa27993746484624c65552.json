{"ast":null,"code":"export var CountOfUnreadMessages = function CountOfUnreadMessages(selfProfile, chat) {\n  var _ref, _ref2;\n  var listOfLastWatchedMessage = chat.lastWatchedMessage;\n  var ILastMessage = (_ref = listOfLastWatchedMessage === undefined ? null : listOfLastWatchedMessage) == null ? void 0 : _ref.find(function (value) {\n    return value.user.userId == selfProfile.userId;\n  });\n  var lastMessageId = (_ref2 = (ILastMessage == null ? void 0 : ILastMessage.value) !== undefined ? ILastMessage.value : null) == null ? void 0 : _ref2.messageId;\n  var lastMessage = chat.messages[chat.messages.length - 1];\n  if (lastMessage.author.userId === selfProfile.userId) {\n    return null;\n  } else if (lastMessageId) {\n    var countOfMessage = chat.messages.length - lastMessageId;\n    if (countOfMessage === 0) return null;\n    return countOfMessage;\n  }\n  return null;\n};","map":{"version":3,"names":["CountOfUnreadMessages","selfProfile","chat","_ref","_ref2","listOfLastWatchedMessage","lastWatchedMessage","ILastMessage","undefined","find","value","user","userId","lastMessageId","messageId","lastMessage","messages","length","author","countOfMessage"],"sources":["D:/project/1project/Messenger/Messenger/Pages/ChatList/Components/List of folders containers/Functions/CountOfUnreadMessage.tsx"],"sourcesContent":["import React from \"react\";\r\nimport Chat from \"../../../../../dao/Models/Chats/Chat\";\r\nimport ILastWatchedMessage from \"../../../../../dao/Models/Chats/ILastWatchedMessage\";\r\nimport SelfProfile from \"../../../../../dao/Models/SelfProfile\";\r\n\r\n\r\nexport const CountOfUnreadMessages=(selfProfile:SelfProfile,chat:Chat):number|null=>{\r\n    const listOfLastWatchedMessage:ILastWatchedMessage[]=chat.lastWatchedMessage;\r\n  const ILastMessage: ILastWatchedMessage | undefined = (listOfLastWatchedMessage===undefined?null:listOfLastWatchedMessage)?.find(\r\n    (value: ILastWatchedMessage) => {\r\n      return value.user.userId == selfProfile.userId;\r\n    }\r\n  );\r\n  const  lastMessageId:number|undefined=(ILastMessage?.value!==undefined?ILastMessage.value:null)?.messageId;\r\n  const lastMessage = chat.messages[chat.messages.length - 1];\r\n  if (lastMessage.author.userId === selfProfile.userId) {\r\n    return null\r\n  } else if (lastMessageId) {\r\n    const countOfMessage: number = chat.messages.length - lastMessageId;\r\n    if (countOfMessage === 0) return null;\r\n    return countOfMessage\r\n  }\r\n  return null\r\n}"],"mappings":"AAMA,OAAO,IAAMA,qBAAqB,GAAC,SAAtBA,qBAAqBA,CAAEC,WAAuB,EAACC,IAAS,EAAe;EAAA,IAAAC,IAAA,EAAAC,KAAA;EAChF,IAAMC,wBAA8C,GAACH,IAAI,CAACI,kBAAkB;EAC9E,IAAMC,YAA6C,IAAAJ,IAAA,GAAIE,wBAAwB,KAAGG,SAAS,GAAC,IAAI,GAACH,wBAAwB,qBAAnEF,IAAA,CAAsEM,IAAI,CAC9H,UAACC,KAA0B,EAAK;IAC9B,OAAOA,KAAK,CAACC,IAAI,CAACC,MAAM,IAAIX,WAAW,CAACW,MAAM;EAChD,CACF,CAAC;EACD,IAAOC,aAA8B,IAAAT,KAAA,GAAE,CAAAG,YAAY,oBAAZA,YAAY,CAAEG,KAAK,MAAGF,SAAS,GAACD,YAAY,CAACG,KAAK,GAAC,IAAI,qBAAxDN,KAAA,CAA2DU,SAAS;EAC1G,IAAMC,WAAW,GAAGb,IAAI,CAACc,QAAQ,CAACd,IAAI,CAACc,QAAQ,CAACC,MAAM,GAAG,CAAC,CAAC;EAC3D,IAAIF,WAAW,CAACG,MAAM,CAACN,MAAM,KAAKX,WAAW,CAACW,MAAM,EAAE;IACpD,OAAO,IAAI;EACb,CAAC,MAAM,IAAIC,aAAa,EAAE;IACxB,IAAMM,cAAsB,GAAGjB,IAAI,CAACc,QAAQ,CAACC,MAAM,GAAGJ,aAAa;IACnE,IAAIM,cAAc,KAAK,CAAC,EAAE,OAAO,IAAI;IACrC,OAAOA,cAAc;EACvB;EACA,OAAO,IAAI;AACb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}