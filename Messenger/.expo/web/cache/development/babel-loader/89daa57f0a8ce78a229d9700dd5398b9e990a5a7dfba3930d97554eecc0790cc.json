{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { styles } from \"./Styles\";\nimport { tempUser, user } from \"../../SemiComponents/DBUser\";\nimport ImageViewer from \"react-native-image-zoom-viewer\";\nimport PhotoToolBar from \"../../SemiComponents/PhotoScreen/PhotoToolBar\";\nimport EyeIcon from \"../../SemiComponents/MainScreen/Icons/EyeIcon\";\nimport DownArrowIcon from \"../../SemiComponents/MainScreen/Icons/DownArrowIcon\";\nimport BinIcon from \"../../SemiComponents/MainScreen/Icons/BinIcon\";\nimport Blur from \"../../SemiComponents/Blur\";\nimport ForwardContactIcon from \"../../SemiComponents/MainScreen/Icons/ForwardContactIcon\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar PhotoScreen = function PhotoScreen(props) {\n  var _useState = useState(user.photosAndVideos.indexOf(tempUser.selectedPhoto) < 0 ? user.photosAndVideos.length - 1 : user.photosAndVideos.indexOf(tempUser.selectedPhoto)),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentPhotoIndex = _useState2[0],\n    setCurrentPhotoIndex = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isElseFeaturesVisible = _useState4[0],\n    setIsElseFeaturesVisible = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isToolBarVisible = _useState6[0],\n    setIsToolBarVisible = _useState6[1];\n  return _jsxs(View, {\n    style: styles.mainContainer,\n    children: [_jsx(Blur, {\n      visibleWhen: isElseFeaturesVisible,\n      onPress: function onPress() {\n        setIsElseFeaturesVisible(false);\n      },\n      style: [styles.blurEffect, {\n        zIndex: 2\n      }]\n    }), isToolBarVisible && _jsx(PhotoToolBar, {\n      onGoBackPress: function onGoBackPress() {\n        props.navigation.goBack();\n      },\n      onElseFeaturesPress: function onElseFeaturesPress() {\n        setIsElseFeaturesVisible(true);\n      },\n      title: (currentPhotoIndex + 1).toString() + \" of \" + user.photosAndVideos.length.toString()\n    }), _jsx(ImageViewer, {\n      imageUrls: user.photosAndVideos.map(function (image) {\n        return {\n          url: image.url\n        };\n      }),\n      index: currentPhotoIndex,\n      onChange: function onChange(index) {\n        setCurrentPhotoIndex(index);\n      },\n      onClick: function onClick() {\n        setIsToolBarVisible(function (value) {\n          return !value;\n        });\n      },\n      renderIndicator: function renderIndicator() {\n        return null;\n      },\n      saveToLocalByLongPress: false\n    }), _jsx(TouchableOpacity, {\n      style: styles.leftOpacityToSeePreviousPhoto,\n      onPress: function onPress() {\n        if (currentPhotoIndex != 0) {\n          var index = currentPhotoIndex;\n          setCurrentPhotoIndex(index - 1);\n        }\n      }\n    }), _jsx(TouchableOpacity, {\n      style: styles.rightOpacityToSeePreviousPhoto,\n      onPress: function onPress() {\n        if (currentPhotoIndex != user.photosAndVideos.length - 1) {\n          var index = currentPhotoIndex;\n          setCurrentPhotoIndex(index + 1);\n        }\n      }\n    }), isElseFeaturesVisible && _jsxs(View, {\n      style: styles.elseFeaturesButtonsContainer,\n      children: [_jsxs(TouchableOpacity, {\n        onPress: function onPress() {\n          alert(\"show in chat\");\n        },\n        style: styles.additionalFeatureButton,\n        children: [_jsx(EyeIcon, {\n          style: styles.additionalFeatureIcon\n        }), _jsx(Text, {\n          style: styles.additionalFeatureTitle,\n          children: \"Show in chat\"\n        })]\n      }), _jsxs(TouchableOpacity, {\n        onPress: function onPress() {\n          alert(\"download\");\n        },\n        style: styles.additionalFeatureButton,\n        children: [_jsx(DownArrowIcon, {\n          style: styles.additionalFeatureIcon\n        }), _jsx(Text, {\n          style: styles.additionalFeatureTitle,\n          children: \"Download\"\n        })]\n      }), _jsxs(TouchableOpacity, {\n        onPress: function onPress() {\n          alert(\"forward\");\n        },\n        style: styles.additionalFeatureButton,\n        children: [_jsx(ForwardContactIcon, {\n          style: styles.additionalFeatureIcon\n        }), _jsx(Text, {\n          style: styles.additionalFeatureTitle,\n          children: \"Forward\"\n        })]\n      }), _jsxs(TouchableOpacity, {\n        style: styles.additionalFeatureButton,\n        onPress: function onPress() {\n          user.photosAndVideos.splice(currentPhotoIndex, 1);\n          setIsElseFeaturesVisible(false);\n          props.navigation.goBack();\n          if (user.photosAndVideos.length != 0) {\n            tempUser.selectedPhoto = user.photosAndVideos[currentPhotoIndex];\n            props.navigation.navigate(\"PhotoScreen\");\n          }\n        },\n        children: [_jsx(BinIcon, {\n          style: styles.additionalFeatureIcon\n        }), _jsx(Text, {\n          style: [styles.additionalFeatureTitle, {\n            color: \"red\"\n          }],\n          children: \"Delete\"\n        })]\n      })]\n    })]\n  });\n};\nexport default PhotoScreen;","map":{"version":3,"names":["React","useState","View","Text","TouchableOpacity","styles","tempUser","user","ImageViewer","PhotoToolBar","EyeIcon","DownArrowIcon","BinIcon","Blur","ForwardContactIcon","jsx","_jsx","jsxs","_jsxs","PhotoScreen","props","_useState","photosAndVideos","indexOf","selectedPhoto","length","_useState2","_slicedToArray","currentPhotoIndex","setCurrentPhotoIndex","_useState3","_useState4","isElseFeaturesVisible","setIsElseFeaturesVisible","_useState5","_useState6","isToolBarVisible","setIsToolBarVisible","style","mainContainer","children","visibleWhen","onPress","blurEffect","zIndex","onGoBackPress","navigation","goBack","onElseFeaturesPress","title","toString","imageUrls","map","image","url","index","onChange","onClick","value","renderIndicator","saveToLocalByLongPress","leftOpacityToSeePreviousPhoto","rightOpacityToSeePreviousPhoto","elseFeaturesButtonsContainer","alert","additionalFeatureButton","additionalFeatureIcon","additionalFeatureTitle","splice","navigate","color"],"sources":["/home/zatibmag/Desktop/Project/Messenger/Messenger/Pages/Profiles/DialogueProfile/PhotoScreen/PhotoScreen.tsx"],"sourcesContent":["// Oleksii Kovalenko telegram - @traewe\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { View, Text, TouchableOpacity } from \"react-native\";\r\nimport { styles } from \"./Styles\";\r\nimport { StackNavigationProp } from \"@react-navigation/stack\";\r\nimport { tempUser, user } from \"../../SemiComponents/DBUser\";\r\nimport ImageViewer from \"react-native-image-zoom-viewer\";\r\nimport PhotoToolBar from \"../../SemiComponents/PhotoScreen/PhotoToolBar\";\r\nimport EyeIcon from \"../../SemiComponents/MainScreen/Icons/EyeIcon\";\r\nimport DownArrowIcon from \"../../SemiComponents/MainScreen/Icons/DownArrowIcon\";\r\nimport BinIcon from \"../../SemiComponents/MainScreen/Icons/BinIcon\";\r\nimport Blur from \"../../SemiComponents/Blur\";\r\nimport ForwardContactIcon from \"../../SemiComponents/MainScreen/Icons/ForwardContactIcon\";\r\n\r\ntype PhotoScreenProps = {\r\n  navigation: StackNavigationProp<{}>;\r\n};\r\n\r\nconst PhotoScreen: React.FC<PhotoScreenProps> = (props) => {\r\n  const [currentPhotoIndex, setCurrentPhotoIndex] = useState(\r\n    user.photosAndVideos.indexOf(tempUser.selectedPhoto) < 0\r\n      ? user.photosAndVideos.length - 1\r\n      : user.photosAndVideos.indexOf(tempUser.selectedPhoto)\r\n  );\r\n  const [isElseFeaturesVisible, setIsElseFeaturesVisible] = useState(false);\r\n  const [isToolBarVisible, setIsToolBarVisible] = useState(true);\r\n\r\n  return (\r\n    <View style={styles.mainContainer}>\r\n      {/* Blur when else features button is pressed */}\r\n      <Blur\r\n        visibleWhen={isElseFeaturesVisible}\r\n        onPress={() => {\r\n          setIsElseFeaturesVisible(false);\r\n        }}\r\n        style={[styles.blurEffect, { zIndex: 2 }]}\r\n      />\r\n\r\n      {isToolBarVisible && (\r\n        <PhotoToolBar\r\n          onGoBackPress={() => {\r\n            props.navigation.goBack();\r\n          }}\r\n          onElseFeaturesPress={() => {\r\n            setIsElseFeaturesVisible(true);\r\n          }}\r\n          title={\r\n            (currentPhotoIndex + 1).toString() +\r\n            \" of \" +\r\n            user.photosAndVideos.length.toString()\r\n          }\r\n        />\r\n      )}\r\n\r\n      <ImageViewer\r\n        imageUrls={user.photosAndVideos.map((image) => ({\r\n          url: image.url,\r\n        }))}\r\n        index={currentPhotoIndex}\r\n        onChange={(index) => {\r\n          setCurrentPhotoIndex(index);\r\n        }}\r\n        onClick={() => {\r\n          setIsToolBarVisible((value) => !value);\r\n        }}\r\n        renderIndicator={() => null}\r\n        saveToLocalByLongPress={false}\r\n      />\r\n\r\n      {/* TouchableOpacity that shows previous photo */}\r\n      <TouchableOpacity\r\n        style={styles.leftOpacityToSeePreviousPhoto}\r\n        onPress={() => {\r\n          if (currentPhotoIndex != 0) {\r\n            const index = currentPhotoIndex;\r\n            setCurrentPhotoIndex(index - 1);\r\n          }\r\n        }}\r\n      />\r\n\r\n      {/* TouchableOpacity that shows next photo */}\r\n      <TouchableOpacity\r\n        style={styles.rightOpacityToSeePreviousPhoto}\r\n        onPress={() => {\r\n          if (currentPhotoIndex != user.photosAndVideos.length - 1) {\r\n            const index = currentPhotoIndex;\r\n            setCurrentPhotoIndex(index + 1);\r\n          }\r\n        }}\r\n      />\r\n\r\n      {isElseFeaturesVisible && (\r\n        <View style={styles.elseFeaturesButtonsContainer}>\r\n          {/* Show in chat button */}\r\n          <TouchableOpacity\r\n            onPress={() => {\r\n              alert(\"show in chat\");\r\n            }}\r\n            style={styles.additionalFeatureButton}\r\n          >\r\n            <EyeIcon style={styles.additionalFeatureIcon} />\r\n            <Text style={styles.additionalFeatureTitle}>Show in chat</Text>\r\n          </TouchableOpacity>\r\n\r\n          {/* Download button */}\r\n          <TouchableOpacity\r\n            onPress={() => {\r\n              alert(\"download\");\r\n            }}\r\n            style={styles.additionalFeatureButton}\r\n          >\r\n            <DownArrowIcon style={styles.additionalFeatureIcon} />\r\n            <Text style={styles.additionalFeatureTitle}>Download</Text>\r\n          </TouchableOpacity>\r\n\r\n          {/* Forward button */}\r\n          <TouchableOpacity\r\n            onPress={() => {\r\n              alert(\"forward\");\r\n            }}\r\n            style={styles.additionalFeatureButton}\r\n          >\r\n            <ForwardContactIcon style={styles.additionalFeatureIcon} />\r\n            <Text style={styles.additionalFeatureTitle}>Forward</Text>\r\n          </TouchableOpacity>\r\n\r\n          {/* Delete button */}\r\n          <TouchableOpacity\r\n            style={styles.additionalFeatureButton}\r\n            onPress={() => {\r\n              user.photosAndVideos.splice(currentPhotoIndex, 1);\r\n              setIsElseFeaturesVisible(false);\r\n              props.navigation.goBack();\r\n\r\n              if (user.photosAndVideos.length != 0) {\r\n                tempUser.selectedPhoto =\r\n                  user.photosAndVideos[currentPhotoIndex];\r\n\r\n                props.navigation.navigate(\"PhotoScreen\" as never);\r\n              }\r\n            }}\r\n          >\r\n            <BinIcon style={styles.additionalFeatureIcon} />\r\n            <Text style={[styles.additionalFeatureTitle, { color: \"red\" }]}>\r\n              Delete\r\n            </Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default PhotoScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}