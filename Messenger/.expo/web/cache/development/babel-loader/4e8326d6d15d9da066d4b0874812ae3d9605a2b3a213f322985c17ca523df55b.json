{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport { mySelfUser } from \"../../1HelpFullFolder/Initialization\";\nimport { listOfChatsStyle } from \"../../Styles/ListOfChatsStyle\";\nimport RightContainersForSwipe from \"./RightContainersForSwipe\";\nimport LeftContainerForSwipe from \"./LeftContainerForSwipe\";\nimport CentralChatContainer from \"./CentralChatContainer\";\nimport { connect } from \"react-redux\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  screenWidth = _Dimensions$get.width,\n  screenHeight = _Dimensions$get.height;\nvar ChatContainer = function ChatContainer(_ref) {\n  var chat = _ref.chat,\n    isCurrent = _ref.isCurrent;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    positionXForStartOfSwipeable = _useState2[0],\n    setPositionXForStartOfSwipeable = _useState2[1];\n  var randomBoolean = useRef(null);\n  var timeForAnimation = 150;\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isSwiped = _useState4[0],\n    setIsSwiped = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isSwipedFromRight = _useState6[0],\n    setIsSwipedFromRight = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    isSwipedFromLeft = _useState8[0],\n    setIsSwipedFromLeft = _useState8[1];\n  var _useState9 = useState(screenWidth),\n    _useState10 = _slicedToArray(_useState9, 2),\n    positionXForSwipeable = _useState10[0],\n    setPositionXForSwipeable = _useState10[1];\n  var haveUnreadMessages = function haveUnreadMessages(chat) {\n    var _chat$dictionary;\n    var lastMessage = chat.listOfMessages.length > 0 ? chat.listOfMessages[chat.listOfMessages.length - 1] : undefined;\n    var id = (_chat$dictionary = chat.dictionary) == null ? void 0 : _chat$dictionary.get(mySelfUser.id);\n    if (!lastMessage) if ((lastMessage == null ? void 0 : lastMessage.sender) !== mySelfUser) {\n      if (id && lastMessage.id > id) {\n        return true;\n      }\n    }\n    return false;\n  };\n  useEffect(function () {\n    randomBoolean.current = Math.random() < 0.5;\n    haveUnreadMessagesBoolf.current = haveUnreadMessages(chat);\n  }, []);\n  var rightDragXposition = useState(new Animated.Value(screenWidth))[0];\n  var leftDragXposition = useState(new Animated.Value(0))[0];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    stateForSwipeDirection = _useState12[0],\n    setStateForSwipeDirection = _useState12[1];\n  useEffect(function () {});\n  var scrollViewRef = useRef(null);\n  var haveUnreadMessagesBoolf = useRef(null);\n  var handlePress = useRef(function () {\n    console.log(\"Кнопку натиснули\");\n  });\n  var onLongPressChat = useRef(function (e) {\n    console.log(chat.name);\n  });\n  var handleScrollToRightEnd = function handleScrollToRightEnd() {\n    var scrollVarible = positionXForStartOfSwipeable == screenWidth;\n    if (positionXForSwipeable < screenWidth * 1.4 && positionXForSwipeable > screenWidth && (!isSwipedFromRight || scrollVarible)) {\n      scrollToRight40Percents();\n      setIsSwipedFromRight(true);\n      return;\n    }\n    if (positionXForSwipeable < screenWidth || setIsSwipedFromRight && positionXForSwipeable < screenWidth * 1.4) {\n      scrollToRightBound();\n      setIsSwiped(false);\n      setIsSwipedFromRight(false);\n      setStateForSwipeDirection(null);\n      return;\n    }\n    if (positionXForSwipeable > screenWidth * 1.4 && isSwipedFromRight || scrollVarible) {\n      scrollToRight40Percents();\n      setIsSwipedFromRight(true);\n    }\n    if (positionXForSwipeable > screenWidth * 1.6) {\n      scrollToLeftBound();\n    }\n  };\n  var scrollToRight40Percents = function scrollToRight40Percents() {\n    scrollViewRef.current.scrollTo({\n      x: screenWidth * 1.4\n    });\n  };\n  var scrollToLeft40Percents = function scrollToLeft40Percents() {\n    scrollViewRef.current.scrollTo({\n      x: screenWidth * 0.6\n    });\n  };\n  var scrollToRightBound = function scrollToRightBound() {\n    scrollViewRef.current.scrollTo({\n      x: screenWidth\n    });\n  };\n  var scrollToLeftBound = function scrollToLeftBound() {\n    scrollViewRef.current.scrollTo({\n      x: screenWidth * 2\n    });\n  };\n  var scrollToZeroPosition = function scrollToZeroPosition() {\n    scrollViewRef.current.scrollTo({\n      x: 0\n    });\n  };\n  var handleScroll = function handleScroll(event) {\n    var nativeEvent = event.nativeEvent;\n    var currentXOffset = nativeEvent.contentOffset.x;\n    if (stateForSwipeDirection == 1 && currentXOffset > screenWidth) {\n      handleOnScrollFromRight(event);\n    } else if (stateForSwipeDirection == 1 && currentXOffset < screenWidth) {\n      setStateForSwipeDirection(null);\n    } else if (stateForSwipeDirection == 0 && currentXOffset < screenWidth) {\n      handleOnScrollFromLeft(event);\n    } else if (stateForSwipeDirection == 0 && currentXOffset > screenWidth) {\n      setStateForSwipeDirection(null);\n    }\n    if (stateForSwipeDirection == null) {\n      if (currentXOffset > screenWidth) {\n        setStateForSwipeDirection(1);\n      } else if (currentXOffset < screenWidth) {\n        setStateForSwipeDirection(0);\n      }\n    }\n  };\n  var handleScrollEnd = function handleScrollEnd(e) {\n    if (stateForSwipeDirection == null) {\n      return;\n    } else if (stateForSwipeDirection == 1) {\n      handleScrollToRightEnd();\n    } else if (stateForSwipeDirection == 0) {\n      handleScrollToLeftEnd();\n    }\n  };\n  var handleScrollToLeftEnd = function handleScrollToLeftEnd() {\n    var scrollVarible = positionXForStartOfSwipeable == screenWidth;\n    if (positionXForSwipeable > screenWidth * 0.6 && positionXForSwipeable < screenWidth && (!isSwipedFromLeft || scrollVarible)) {\n      scrollToLeft40Percents();\n      setIsSwipedFromLeft(true);\n      return;\n    }\n    if (positionXForSwipeable > screenWidth || setIsSwipedFromLeft && positionXForSwipeable > screenWidth * 0.6) {\n      scrollToRightBound();\n      setIsSwiped(false);\n      setIsSwipedFromLeft(false);\n      setStateForSwipeDirection(null);\n      return;\n    }\n    if (positionXForSwipeable < screenWidth * 0.6 && isSwipedFromLeft || scrollVarible) {\n      scrollToLeft40Percents();\n      setIsSwipedFromLeft(true);\n    }\n    if (positionXForSwipeable < screenWidth * 0.4) {\n      scrollToZeroPosition();\n    }\n  };\n  var handleOnScrollFromRight = function handleOnScrollFromRight(e) {\n    var positionX = e.nativeEvent.contentOffset.x;\n    setPositionXForSwipeable(positionX);\n    Animated.timing(rightDragXposition, {\n      toValue: positionX,\n      duration: 0,\n      useNativeDriver: true\n    }).start();\n  };\n  var handleOnScrollFromLeft = function handleOnScrollFromLeft(e) {\n    var positionX = e.nativeEvent.contentOffset.x;\n    setPositionXForSwipeable(positionX);\n    Animated.timing(leftDragXposition, {\n      toValue: positionX,\n      duration: 0,\n      useNativeDriver: true\n    }).start();\n  };\n  return _jsxs(Animated.View, {\n    children: [_jsx(TouchableOpacity, {\n      style: listOfChatsStyle.helpContainer,\n      onPress: handlePress.current,\n      onLongPress: onLongPressChat.current,\n      activeOpacity: 0.1\n    }), _jsxs(Animated.ScrollView, {\n      ref: scrollViewRef,\n      pagingEnabled: true,\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      style: {\n        width: screenWidth,\n        flexDirection: \"row\",\n        zIndex: isSwiped ? 2 : 0\n      },\n      decelerationRate: 0.1,\n      scrollEventThrottle: 1,\n      contentOffset: {\n        x: screenWidth,\n        y: 0\n      },\n      onScrollBeginDrag: function onScrollBeginDrag(e) {\n        setIsSwiped(true);\n        setPositionXForStartOfSwipeable(e.nativeEvent.contentOffset.x);\n      },\n      onScroll: handleScroll,\n      onScrollEndDrag: handleScrollEnd,\n      children: [_jsx(LeftContainerForSwipe, {\n        leftDragXposition: leftDragXposition,\n        haveUnreadMessagesBoolf: haveUnreadMessagesBoolf\n      }), _jsx(CentralChatContainer, {\n        chat: chat,\n        handlePress: handlePress,\n        onLongPressChat: onLongPressChat\n      }), _jsx(RightContainersForSwipe, {\n        randomBoolean: randomBoolean,\n        rightDragXposition: rightDragXposition\n      })]\n    })]\n  });\n};\nexport default connect(null)(React.memo(ChatContainer));","map":{"version":3,"names":["React","useEffect","useRef","useState","TouchableOpacity","Dimensions","Animated","mySelfUser","listOfChatsStyle","RightContainersForSwipe","LeftContainerForSwipe","CentralChatContainer","connect","jsx","_jsx","jsxs","_jsxs","_Dimensions$get","get","screenWidth","width","screenHeight","height","ChatContainer","_ref","chat","isCurrent","_useState","_useState2","_slicedToArray","positionXForStartOfSwipeable","setPositionXForStartOfSwipeable","randomBoolean","timeForAnimation","_useState3","_useState4","isSwiped","setIsSwiped","_useState5","_useState6","isSwipedFromRight","setIsSwipedFromRight","_useState7","_useState8","isSwipedFromLeft","setIsSwipedFromLeft","_useState9","_useState10","positionXForSwipeable","setPositionXForSwipeable","haveUnreadMessages","_chat$dictionary","lastMessage","listOfMessages","length","undefined","id","dictionary","sender","current","Math","random","haveUnreadMessagesBoolf","rightDragXposition","Value","leftDragXposition","_useState11","_useState12","stateForSwipeDirection","setStateForSwipeDirection","scrollViewRef","handlePress","console","log","onLongPressChat","e","name","handleScrollToRightEnd","scrollVarible","scrollToRight40Percents","scrollToRightBound","scrollToLeftBound","scrollTo","x","scrollToLeft40Percents","scrollToZeroPosition","handleScroll","event","nativeEvent","currentXOffset","contentOffset","handleOnScrollFromRight","handleOnScrollFromLeft","handleScrollEnd","handleScrollToLeftEnd","positionX","timing","toValue","duration","useNativeDriver","start","View","children","style","helpContainer","onPress","onLongPress","activeOpacity","ScrollView","ref","pagingEnabled","horizontal","showsHorizontalScrollIndicator","flexDirection","zIndex","decelerationRate","scrollEventThrottle","y","onScrollBeginDrag","onScroll","onScrollEndDrag","memo"],"sources":["C:/Users/Admin/Project/Project/Messenger/Messenger/Pages/ChatList/Components/List of folders containers/ChatContainer.tsx"],"sourcesContent":["import React, { Ref, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  View,\r\n  Image,\r\n  Text,\r\n  TouchableOpacity,\r\n  Dimensions,\r\n  Animated,\r\n  GestureResponderEvent,\r\n  NativeSyntheticEvent,\r\n  NativeScrollEvent,\r\n  ScrollView\r\n} from \"react-native\";\r\nimport { mySelfUser } from \"../../1HelpFullFolder/Initialization\";\r\nimport { listOfChatsStyle } from \"../../Styles/ListOfChatsStyle\";\r\nimport Message from \"../../1HelpFullFolder/Message\";\r\nimport Chat from \"../../1HelpFullFolder/Chat\";\r\nimport RightContainersForSwipe from \"./RightContainersForSwipe\";\r\nimport LeftContainerForSwipe from \"./LeftContainerForSwipe\";\r\nimport CentralChatContainer from \"./CentralChatContainer\";\r\nimport { connect } from \"react-redux\";\r\n\r\ninterface ChatProps {\r\n  chat: Chat;\r\n  isCurrent: boolean;\r\n}\r\n\r\nconst { width: screenWidth, height: screenHeight } = Dimensions.get(\"window\");\r\nconst ChatContainer: React.FC<ChatProps> = ({ chat, isCurrent }) => {\r\n \r\n  const [positionXForStartOfSwipeable, setPositionXForStartOfSwipeable] =\r\n    useState<number>(null);\r\n  let randomBoolean = useRef(null);\r\n  const timeForAnimation: number = 150;\r\n  const [isSwiped, setIsSwiped] = useState(false);\r\n  const [isSwipedFromRight, setIsSwipedFromRight] = useState(false);\r\n  const [isSwipedFromLeft, setIsSwipedFromLeft] = useState(false);\r\n  const [positionXForSwipeable, setPositionXForSwipeable] =\r\n    useState<number>(screenWidth);\r\n  \r\n  const haveUnreadMessages = (chat) => {\r\n    const lastMessage: Message =\r\n      chat.listOfMessages.length > 0\r\n        ? chat.listOfMessages[chat.listOfMessages.length - 1]\r\n        : undefined;\r\n    const id: number | undefined = chat.dictionary?.get(mySelfUser.id);\r\n    if (!lastMessage)\r\n      if (lastMessage?.sender !== mySelfUser) {\r\n        if (id && lastMessage.id > id) {\r\n          return true;\r\n        }\r\n      }\r\n    return false;\r\n  };\r\n  useEffect(() => {\r\n    randomBoolean.current = Math.random() < 0.5;\r\n    haveUnreadMessagesBoolf.current = haveUnreadMessages(chat);\r\n  }, []);\r\n  const rightDragXposition= useState(new Animated.Value(screenWidth))[0];\r\n  const leftDragXposition= useState(new Animated.Value(0))[0];\r\n  const [stateForSwipeDirection, setStateForSwipeDirection] =\r\n    useState<number>(null);\r\n  useEffect(() => {\r\n    //console.log(chat.name)\r\n  });\r\n\r\n  const scrollViewRef: Ref<ScrollView> = useRef<ScrollView>(null);\r\n  \r\n  const haveUnreadMessagesBoolf = useRef(null);\r\n  const handlePress = useRef(() => {\r\n    console.log(\"Кнопку натиснули\");\r\n  });\r\n  const onLongPressChat = useRef((e: GestureResponderEvent) => {\r\n    console.log(chat.name);\r\n  });\r\n  const handleScrollToRightEnd = () => {\r\n    const scrollVarible = positionXForStartOfSwipeable == screenWidth;\r\n    if (\r\n      positionXForSwipeable < screenWidth * 1.4 &&\r\n      positionXForSwipeable > screenWidth &&\r\n      (!isSwipedFromRight || scrollVarible)\r\n    ) {\r\n      scrollToRight40Percents();\r\n      setIsSwipedFromRight(true);\r\n      return;\r\n    }\r\n    if (\r\n      positionXForSwipeable < screenWidth ||\r\n      (setIsSwipedFromRight && positionXForSwipeable < screenWidth * 1.4)\r\n    ) {\r\n      scrollToRightBound();\r\n      setIsSwiped(false);\r\n      setIsSwipedFromRight(false);\r\n      setStateForSwipeDirection(null);\r\n      return;\r\n    }\r\n    if (\r\n      (positionXForSwipeable > screenWidth * 1.4 && isSwipedFromRight) ||\r\n      scrollVarible\r\n    ) {\r\n      scrollToRight40Percents();\r\n      setIsSwipedFromRight(true);\r\n    }\r\n    if (positionXForSwipeable > screenWidth * 1.6) {\r\n      scrollToLeftBound();\r\n    }\r\n  };\r\n  const scrollToRight40Percents = () => {\r\n    scrollViewRef.current.scrollTo({ x: screenWidth * 1.4 });\r\n  };\r\n  const scrollToLeft40Percents = () => {\r\n    scrollViewRef.current.scrollTo({ x: screenWidth * 0.6 });\r\n  };\r\n  const scrollToRightBound = () => {\r\n    scrollViewRef.current.scrollTo({ x: screenWidth });\r\n  };\r\n  const scrollToLeftBound = () => {\r\n    scrollViewRef.current.scrollTo({ x: screenWidth * 2 });\r\n  };\r\n  const scrollToZeroPosition = () => {\r\n    scrollViewRef.current.scrollTo({ x: 0 });\r\n  };\r\n  const handleScroll = (event) => {\r\n    const { nativeEvent } = event;\r\n    const currentXOffset = nativeEvent.contentOffset.x;\r\n    if (stateForSwipeDirection == 1 && currentXOffset > screenWidth) {\r\n      handleOnScrollFromRight(event);\r\n    } else if (stateForSwipeDirection == 1 && currentXOffset < screenWidth) {\r\n      setStateForSwipeDirection(null);\r\n    } else if (stateForSwipeDirection == 0 && currentXOffset < screenWidth) {\r\n      handleOnScrollFromLeft(event);\r\n    } else if (stateForSwipeDirection == 0 && currentXOffset > screenWidth) {\r\n      setStateForSwipeDirection(null);\r\n    }\r\n    if (stateForSwipeDirection == null) {\r\n      if (currentXOffset > screenWidth) {\r\n        setStateForSwipeDirection(1);\r\n      } else if (currentXOffset < screenWidth) {\r\n        setStateForSwipeDirection(0);\r\n      }\r\n    }\r\n  };\r\n  const handleScrollEnd = (e: NativeSyntheticEvent<NativeScrollEvent>) => {\r\n    if (stateForSwipeDirection == null) {\r\n      return;\r\n    } else if (stateForSwipeDirection == 1) {\r\n      handleScrollToRightEnd();\r\n    } else if (stateForSwipeDirection == 0) {\r\n      handleScrollToLeftEnd();\r\n    }\r\n  };\r\n\r\n  const handleScrollToLeftEnd = () => {\r\n    const scrollVarible = positionXForStartOfSwipeable == screenWidth;\r\n    if (\r\n      positionXForSwipeable > screenWidth * 0.6 &&\r\n      positionXForSwipeable < screenWidth &&\r\n      (!isSwipedFromLeft || scrollVarible)\r\n    ) {\r\n      scrollToLeft40Percents();\r\n      setIsSwipedFromLeft(true);\r\n      return;\r\n    }\r\n    if (\r\n      positionXForSwipeable > screenWidth ||\r\n      (setIsSwipedFromLeft && positionXForSwipeable > screenWidth * 0.6)\r\n    ) {\r\n      scrollToRightBound();\r\n      setIsSwiped(false);\r\n      setIsSwipedFromLeft(false);\r\n      setStateForSwipeDirection(null);\r\n      return;\r\n    }\r\n    if (\r\n      (positionXForSwipeable < screenWidth * 0.6 && isSwipedFromLeft) ||\r\n      scrollVarible\r\n    ) {\r\n      scrollToLeft40Percents();\r\n      setIsSwipedFromLeft(true);\r\n    }\r\n    if (positionXForSwipeable < screenWidth * 0.4) {\r\n      scrollToZeroPosition();\r\n    }\r\n  };\r\n  const handleOnScrollFromRight = (\r\n    e: NativeSyntheticEvent<NativeScrollEvent>\r\n  ) => {\r\n    const positionX = e.nativeEvent.contentOffset.x;\r\n    setPositionXForSwipeable(positionX);\r\n    Animated.timing(rightDragXposition, {\r\n      toValue: positionX,\r\n      duration: 0,\r\n\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  const handleOnScrollFromLeft = (\r\n    e: NativeSyntheticEvent<NativeScrollEvent>\r\n  ) => {\r\n    const positionX = e.nativeEvent.contentOffset.x;\r\n    setPositionXForSwipeable(positionX);\r\n    Animated.timing(leftDragXposition, {\r\n      toValue: positionX,\r\n      duration: 0,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  };\r\n  return (\r\n    <Animated.View>\r\n      <TouchableOpacity\r\n        style={listOfChatsStyle.helpContainer}\r\n        onPress={\r\n          handlePress.current\r\n        }\r\n        onLongPress={onLongPressChat.current}\r\n        activeOpacity={0.1}\r\n      />\r\n      <Animated.ScrollView\r\n        ref={scrollViewRef}\r\n        pagingEnabled={true}\r\n        horizontal\r\n        showsHorizontalScrollIndicator={false}\r\n        style={{\r\n          width: screenWidth,\r\n          flexDirection: \"row\",\r\n          zIndex: isSwiped ? 2 : 0,\r\n        }}\r\n        decelerationRate={0.1}\r\n        scrollEventThrottle={1}\r\n        contentOffset={{ x: screenWidth, y: 0 }}\r\n        onScrollBeginDrag={(e: NativeSyntheticEvent<NativeScrollEvent>) => {\r\n          setIsSwiped(true);\r\n          setPositionXForStartOfSwipeable(e.nativeEvent.contentOffset.x);\r\n        }}\r\n        onScroll={handleScroll}\r\n        onScrollEndDrag={handleScrollEnd}\r\n      >\r\n        \r\n        <LeftContainerForSwipe\r\n          leftDragXposition={leftDragXposition}\r\n        haveUnreadMessagesBoolf={haveUnreadMessagesBoolf}\r\n      />\r\n        \r\n        <CentralChatContainer chat={chat} handlePress={handlePress} onLongPressChat={onLongPressChat}/>\r\n        <RightContainersForSwipe\r\n          randomBoolean={randomBoolean}\r\n          rightDragXposition={rightDragXposition}\r\n        />\r\n      </Animated.ScrollView>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nexport default connect(null)(React.memo(ChatContainer));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}