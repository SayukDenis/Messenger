{"ast":null,"code":"import React, { useEffect, useState } from \"react\";\nimport ChatContainer from \"./ChatContainer\";\nimport { connect } from \"react-redux\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  screenWidth = _Dimensions$get.width,\n  screenHeight = _Dimensions$get.height;\nvar ListOfBranches = function ListOfBranches(_ref) {\n  var chat = _ref.chat,\n    nesting = _ref.nesting,\n    setBranchOpen = _ref.setBranchOpen,\n    stateForBranchesShow = _ref.stateForBranchesShow;\n  var arrayOfBranchesValues = Array.from({\n    length: chat.branches.length\n  }, function (_, index) {\n    return useState(new Animated.Value(0));\n  });\n  var durationOfAnimation = 75 * 1;\n  var translateYOfContainers = arrayOfBranchesValues.map(function (animatedValue, index) {\n    return animatedValue[0].interpolate({\n      inputRange: [0, 1],\n      outputRange: [-screenHeight * 0.08, 0]\n    });\n  });\n  var animationsForBranches = arrayOfBranchesValues.map(function (animatedValue, index) {\n    return Animated.timing(animatedValue[0], {\n      toValue: +stateForBranchesShow,\n      easing: Easing.linear,\n      duration: durationOfAnimation,\n      useNativeDriver: false\n    });\n  });\n  useEffect(function () {\n    Animated.sequence(stateForBranchesShow ? animationsForBranches : animationsForBranches.slice().reverse()).start(function () {\n      if (!stateForBranchesShow) {\n        setBranchOpen();\n      }\n    });\n  }, [stateForBranchesShow]);\n  return _jsx(FlatList, {\n    data: chat.branches,\n    keyExtractor: function keyExtractor(item, index) {\n      return index.toString();\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item,\n        index = _ref2.index;\n      return _jsx(Animated.View, {\n        style: {\n          transform: [{\n            translateY: translateYOfContainers[index]\n          }],\n          opacity: arrayOfBranchesValues[index][0]\n        },\n        children: _jsx(ChatContainer, {\n          chat: item,\n          nesting: nesting\n        })\n      });\n    }\n  });\n};\nexport default connect(null)(ListOfBranches);","map":{"version":3,"names":["React","useEffect","useState","ChatContainer","connect","Animated","Easing","Dimensions","FlatList","jsx","_jsx","_Dimensions$get","get","screenWidth","width","screenHeight","height","ListOfBranches","_ref","chat","nesting","setBranchOpen","stateForBranchesShow","arrayOfBranchesValues","Array","from","length","branches","_","index","Value","durationOfAnimation","translateYOfContainers","map","animatedValue","interpolate","inputRange","outputRange","animationsForBranches","timing","toValue","easing","linear","duration","useNativeDriver","sequence","slice","reverse","start","data","keyExtractor","item","toString","renderItem","_ref2","View","style","transform","translateY","opacity","children"],"sources":["C:/Users/Admin/Project/Messenger/Messenger/Pages/ChatList/Components/List of folders containers/ListOfBranches.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Chat from \"../../../../dao/Models/Chats/Chat\";\r\nimport ChatContainer from \"./ChatContainer\";\r\nimport { connect } from \"react-redux\";\r\nimport { Animated, Easing, Dimensions, FlatList } from \"react-native\";\r\ninterface ListOfBranchesProps {\r\n  chat: Chat;\r\n  nesting: number;\r\n  setBranchOpen:()=>void;\r\n  stateForBranchesShow:boolean;\r\n}\r\nconst { width: screenWidth, height: screenHeight } = Dimensions.get(\"window\");\r\nconst ListOfBranches: React.FC<ListOfBranchesProps> = ({ chat, nesting,setBranchOpen,stateForBranchesShow }) => {\r\n  const arrayOfBranchesValues = Array.from(\r\n    { length: chat.branches.length },\r\n    (_, index) => useState(new Animated.Value(0))\r\n  );\r\n  const durationOfAnimation: number = 75*1;\r\n  const translateYOfContainers = arrayOfBranchesValues.map(\r\n    (animatedValue, index) => {\r\n      return animatedValue[0].interpolate({\r\n        inputRange: [0, 1],\r\n        outputRange: [-screenHeight*0.08, 0],\r\n      });\r\n    }\r\n  );\r\n  const animationsForBranches = arrayOfBranchesValues.map(\r\n    (animatedValue, index) => {\r\n      return Animated.timing(animatedValue[0], {\r\n        toValue: +stateForBranchesShow,\r\n        easing: Easing.linear,\r\n        duration: durationOfAnimation,\r\n        useNativeDriver: false,\r\n      });\r\n    }\r\n  );\r\n  useEffect(()=>{\r\n    Animated.sequence(stateForBranchesShow?animationsForBranches:animationsForBranches.slice().reverse()).start(() => {\r\n      if(!stateForBranchesShow){\r\n        setBranchOpen();\r\n      }\r\n    });\r\n  },[stateForBranchesShow])\r\n\r\n  return (\r\n    <FlatList\r\n      data={chat.branches}\r\n      keyExtractor={(item, index) => index.toString()}\r\n      renderItem={({ item, index }) => (\r\n        <Animated.View\r\n          style={{\r\n            transform: [{ translateY: translateYOfContainers[index] }],opacity:arrayOfBranchesValues[index][0]\r\n          }}\r\n        >\r\n          <ChatContainer chat={item} nesting={nesting} />\r\n        </Animated.View>\r\n      )}\r\n    />\r\n  );\r\n};\r\nexport default connect(null)(ListOfBranches);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}