{"ast":null,"code":"import React from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { user } from \"../../DBUser\";\nimport styles from \"../Styles\";\nimport CrossIcon from \"../Icons/CrossIcon\";\nimport CheckmarkIcon from \"../Icons/CheckmarkIcon\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar screenHeight = Dimensions.get(\"screen\").height;\nvar screenWidth = Dimensions.get(\"screen\").width;\nvar Albums = function Albums(props) {\n  return _jsxs(View, {\n    style: styles.mediaContainer,\n    children: [_jsx(FlatList, {\n      data: user.albums,\n      keyExtractor: function keyExtractor(item) {\n        return user.albums.indexOf(item).toString();\n      },\n      horizontal: false,\n      numColumns: 2,\n      contentContainerStyle: [styles.allAlbumsContainer, {\n        height: user.albums.length < 3 ? user.albums.length == 1 ? 0.8 * screenHeight : 0.7 * screenHeight : Math.ceil(user.albums.length / 2) * 0.355 * screenHeight\n      }],\n      scrollEnabled: false,\n      renderItem: function renderItem(_ref) {\n        var _props$selectedAlbums4;\n        var item = _ref.item;\n        return _jsxs(TouchableOpacity, {\n          onPress: function onPress() {\n            props.onAlbumPress(item);\n          },\n          onLongPress: function onLongPress(event) {\n            if (!props.isAlbumSelectionVisible) {\n              props.onAlbumLongPress(item);\n              props.setPositionYOfLongPressedAlbum(event.nativeEvent.pageY + 0.05 * screenHeight);\n            } else {\n              var _props$selectedAlbums;\n              if (!((_props$selectedAlbums = props.selectedAlbums) != null && _props$selectedAlbums.includes(item))) {\n                var _props$selectedAlbums2;\n                props.setSelectedAlbums((_props$selectedAlbums2 = props.selectedAlbums) == null ? void 0 : _props$selectedAlbums2.concat([item]));\n              } else {\n                var _props$selectedAlbums3;\n                props.setSelectedAlbums((_props$selectedAlbums3 = props.selectedAlbums) == null ? void 0 : _props$selectedAlbums3.filter(function (photoOrVideo) {\n                  return photoOrVideo !== item;\n                }));\n              }\n            }\n          },\n          style: [styles.albumContainer],\n          children: [_jsx(Image, {\n            style: styles.albumMainPhoto,\n            source: {\n              uri: item.mainPhoto.url\n            }\n          }), _jsxs(View, {\n            style: styles.albumInfoContainer,\n            children: [_jsx(Text, {\n              numberOfLines: 1,\n              style: styles.albumNameText,\n              children: item.name\n            }), _jsx(Text, {\n              numberOfLines: 1,\n              style: styles.albumPhotosAndVideosQuantityText,\n              children: item.photosAndVideos.length\n            }), props.isAlbumSelectionVisible && _jsx(View, {\n              style: styles.checkmarkContainerForAlbum,\n              children: ((_props$selectedAlbums4 = props.selectedAlbums) == null ? void 0 : _props$selectedAlbums4.includes(item)) && _jsx(CheckmarkIcon, {\n                style: styles.checkmarkIcon\n              })\n            })]\n          })]\n        });\n      }\n    }), _jsxs(TouchableOpacity, {\n      onPress: function onPress() {\n        props.onNewAlbumPress();\n      },\n      style: [styles.albumContainer, {\n        position: \"absolute\",\n        top: user.albums.length % 2 == 0 ? 0.02 * screenHeight + Math.ceil(user.albums.length / 2) * 0.205 * screenHeight : 0.02 * screenHeight + (Math.ceil(user.albums.length / 2) - 1) * 0.205 * screenHeight,\n        left: user.albums.length % 2 == 0 ? 0.075 * screenWidth : 0.575 * screenWidth\n      }],\n      children: [_jsx(View, {\n        style: [styles.albumMainPhoto, {\n          backgroundColor: \"rgb(32, 32, 32)\"\n        }],\n        children: _jsx(CrossIcon, {\n          style: styles.plusAlbumIcon\n        })\n      }), _jsx(View, {\n        style: styles.albumInfoContainer,\n        children: _jsx(Text, {\n          numberOfLines: 1,\n          style: styles.albumNameText,\n          children: \"New album\"\n        })\n      })]\n    })]\n  });\n};\nexport default Albums;","map":{"version":3,"names":["React","View","FlatList","TouchableOpacity","Image","Dimensions","Text","user","styles","CrossIcon","CheckmarkIcon","jsx","_jsx","jsxs","_jsxs","screenHeight","get","height","screenWidth","width","Albums","props","style","mediaContainer","children","data","albums","keyExtractor","item","indexOf","toString","horizontal","numColumns","contentContainerStyle","allAlbumsContainer","length","Math","ceil","scrollEnabled","renderItem","_ref","_props$selectedAlbums4","onPress","onAlbumPress","onLongPress","event","isAlbumSelectionVisible","onAlbumLongPress","setPositionYOfLongPressedAlbum","nativeEvent","pageY","_props$selectedAlbums","selectedAlbums","includes","_props$selectedAlbums2","setSelectedAlbums","concat","_props$selectedAlbums3","filter","photoOrVideo","albumContainer","albumMainPhoto","source","uri","mainPhoto","url","albumInfoContainer","numberOfLines","albumNameText","name","albumPhotosAndVideosQuantityText","photosAndVideos","checkmarkContainerForAlbum","checkmarkIcon","onNewAlbumPress","position","top","left","backgroundColor","plusAlbumIcon"],"sources":["/home/zatibmag/Desktop/Project/Messenger/Messenger/Pages/Profiles/SemiComponents/MainScreen/Multimedia/Albums.tsx"],"sourcesContent":["// Oleksii Kovalenko telegram - @traewe\r\n\r\nimport React from \"react\";\r\nimport {\r\n  View,\r\n  FlatList,\r\n  TouchableOpacity,\r\n  Image,\r\n  Dimensions,\r\n  Text,\r\n} from \"react-native\";\r\nimport { Album, user } from \"../../DBUser\";\r\nimport styles from \"../Styles\";\r\nimport CrossIcon from \"../Icons/CrossIcon\";\r\nimport CheckmarkIcon from \"../Icons/CheckmarkIcon\";\r\n\r\ninterface AlbumsProps {\r\n  onNewAlbumPress: () => void;\r\n  onAlbumLongPress: (value: Album) => void;\r\n  onAlbumPress: (value: Album) => void;\r\n  setPositionYOfLongPressedAlbum: (value: number) => void;\r\n  isAlbumSelectionVisible: boolean;\r\n  selectedAlbums: Array<Album>;\r\n  setSelectedAlbums: (value: Array<Album>) => void;\r\n}\r\n\r\nconst screenHeight: number = Dimensions.get(\"screen\").height;\r\nconst screenWidth: number = Dimensions.get(\"screen\").width;\r\n\r\nconst Albums: React.FC<AlbumsProps> = (props) => {\r\n  return (\r\n    <View style={styles.mediaContainer}>\r\n      <FlatList\r\n        data={user.albums}\r\n        keyExtractor={(item) => user.albums.indexOf(item).toString()}\r\n        horizontal={false}\r\n        numColumns={2}\r\n        contentContainerStyle={[\r\n          styles.allAlbumsContainer,\r\n          {\r\n            height:\r\n              user.albums.length < 3\r\n                ? user.albums.length == 1\r\n                  ? 0.8 * screenHeight\r\n                  : 0.7 * screenHeight\r\n                : Math.ceil(user.albums.length / 2) * 0.355 * screenHeight,\r\n          },\r\n        ]}\r\n        scrollEnabled={false}\r\n        renderItem={({ item }) => {\r\n          return (\r\n            <TouchableOpacity\r\n              onPress={() => {\r\n                props.onAlbumPress(item);\r\n              }}\r\n              onLongPress={(event) => {\r\n                if (!props.isAlbumSelectionVisible) {\r\n                  props.onAlbumLongPress(item);\r\n                  props.setPositionYOfLongPressedAlbum(\r\n                    event.nativeEvent.pageY + 0.05 * screenHeight\r\n                  );\r\n                } else {\r\n                  if (!props.selectedAlbums?.includes(item)) {\r\n                    props.setSelectedAlbums(\r\n                      props.selectedAlbums?.concat([item])\r\n                    );\r\n                  } else {\r\n                    props.setSelectedAlbums(\r\n                      props.selectedAlbums?.filter(\r\n                        (photoOrVideo) => photoOrVideo !== item\r\n                      )\r\n                    );\r\n                  }\r\n                }\r\n              }}\r\n              style={[styles.albumContainer]}\r\n            >\r\n              <Image\r\n                style={styles.albumMainPhoto}\r\n                source={{ uri: item.mainPhoto.url }}\r\n              />\r\n              <View style={styles.albumInfoContainer}>\r\n                <Text numberOfLines={1} style={styles.albumNameText}>\r\n                  {item.name}\r\n                </Text>\r\n                <Text\r\n                  numberOfLines={1}\r\n                  style={styles.albumPhotosAndVideosQuantityText}\r\n                >\r\n                  {item.photosAndVideos.length}\r\n                </Text>\r\n                {props.isAlbumSelectionVisible && (\r\n                  <View style={styles.checkmarkContainerForAlbum}>\r\n                    {props.selectedAlbums?.includes(item) && (\r\n                      <CheckmarkIcon style={styles.checkmarkIcon} />\r\n                    )}\r\n                  </View>\r\n                )}\r\n              </View>\r\n            </TouchableOpacity>\r\n          );\r\n        }}\r\n      />\r\n      <TouchableOpacity\r\n        onPress={() => {\r\n          props.onNewAlbumPress();\r\n        }}\r\n        style={[\r\n          styles.albumContainer,\r\n          {\r\n            position: \"absolute\",\r\n            top:\r\n              user.albums.length % 2 == 0\r\n                ? 0.02 * screenHeight +\r\n                  Math.ceil(user.albums.length / 2) * 0.205 * screenHeight\r\n                : 0.02 * screenHeight +\r\n                  (Math.ceil(user.albums.length / 2) - 1) *\r\n                    0.205 *\r\n                    screenHeight,\r\n            left:\r\n              user.albums.length % 2 == 0\r\n                ? 0.075 * screenWidth\r\n                : 0.575 * screenWidth,\r\n          },\r\n        ]}\r\n      >\r\n        <View\r\n          style={[\r\n            styles.albumMainPhoto,\r\n            { backgroundColor: \"rgb(32, 32, 32)\" },\r\n          ]}\r\n        >\r\n          <CrossIcon style={styles.plusAlbumIcon} />\r\n        </View>\r\n        <View style={styles.albumInfoContainer}>\r\n          <Text numberOfLines={1} style={styles.albumNameText}>\r\n            New album\r\n          </Text>\r\n        </View>\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default Albums;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}