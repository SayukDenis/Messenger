{"ast":null,"code":"import _initializerDefineProperty from \"@babel/runtime/helpers/initializerDefineProperty\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _applyDecoratedDescriptor from \"@babel/runtime/helpers/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"@babel/runtime/helpers/initializerWarningHelper\";\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9;\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport Chat from \"./Chat\";\nimport { Column, Entity, ManyToOne, OneToMany, TreeChildren, TreeParent } from 'typeorm';\nimport MainChat from \"./MainChat\";\nimport Message from \"../Message\";\nvar Branch = (_dec = Entity(), _dec2 = Column('text'), _dec3 = Column('simple-array', {\n  nullable: true\n}), _dec4 = TreeParent({\n  onDelete: 'CASCADE'\n}), _dec5 = TreeChildren({\n  cascade: true\n}), _dec6 = ManyToOne(function () {\n  return MainChat;\n}, function (chat) {\n  return chat.branches;\n}, {\n  onDelete: 'CASCADE'\n}), _dec7 = OneToMany(function () {\n  return Message;\n}, function (message) {\n  return message.chat;\n}, {\n  eager: true,\n  cascade: true\n}), _dec8 = OneToMany(function () {\n  return Message;\n}, function (message) {\n  return message.chatPinned;\n}, {\n  eager: true,\n  cascade: true\n}), _dec9 = OneToMany(function () {\n  return Message;\n}, function (message) {\n  return message.chatPinnedForAll;\n}, {\n  eager: true,\n  cascade: true\n}), _dec10 = Column({\n  type: 'simple-json',\n  nullable: true\n}), _dec(_class = (_class2 = function (_Chat) {\n  function Branch(title) {\n    var _this;\n    _classCallCheck(this, Branch);\n    _this = _callSuper(this, Branch);\n    _initializerDefineProperty(_this, \"title\", _descriptor, _this);\n    _initializerDefineProperty(_this, \"haveAccessRoleId\", _descriptor2, _this);\n    _initializerDefineProperty(_this, \"parent\", _descriptor3, _this);\n    _initializerDefineProperty(_this, \"branches\", _descriptor4, _this);\n    _initializerDefineProperty(_this, \"mainChat\", _descriptor5, _this);\n    _initializerDefineProperty(_this, \"messages\", _descriptor6, _this);\n    _initializerDefineProperty(_this, \"pinnedMessage\", _descriptor7, _this);\n    _initializerDefineProperty(_this, \"pinnedMessageForAll\", _descriptor8, _this);\n    _initializerDefineProperty(_this, \"lastWatchedMessage\", _descriptor9, _this);\n    _this.title = title;\n    return _this;\n  }\n  _inherits(Branch, _Chat);\n  return _createClass(Branch);\n}(Chat), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, \"title\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, \"haveAccessRoleId\", [_dec3], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, \"parent\", [_dec4], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, \"branches\", [_dec5], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, \"mainChat\", [_dec6], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, \"messages\", [_dec7], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, \"pinnedMessage\", [_dec8], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, \"pinnedMessageForAll\", [_dec9], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, \"lastWatchedMessage\", [_dec10], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n})), _class2)) || _class);\nexport { Branch as default };\n;","map":{"version":3,"names":["Chat","Column","Entity","ManyToOne","OneToMany","TreeChildren","TreeParent","MainChat","Message","Branch","_dec","_dec2","_dec3","nullable","_dec4","onDelete","_dec5","cascade","_dec6","chat","branches","_dec7","message","eager","_dec8","chatPinned","_dec9","chatPinnedForAll","_dec10","type","_class","_class2","_Chat","title","_this","_classCallCheck","_callSuper","_initializerDefineProperty","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_inherits","_createClass","_applyDecoratedDescriptor","prototype","configurable","enumerable","writable","initializer","default"],"sources":["C:/Users/T480/source/repos/Messenger/Messenger/dao/Models/Chats/Branch.ts"],"sourcesContent":["import Chat from './Chat';\r\nimport { ChildEntity, Column, Entity, ManyToOne, OneToMany, Tree, TreeChildren, TreeParent } from 'typeorm';\r\nimport MainChat from './MainChat';\r\nimport Message from '../Message';\r\nimport ILastWatchedMessage from './ILastWatchedMessage';\r\n\r\n@Entity()\r\nexport default class Branch extends Chat {\r\n    constructor(title: string) {\r\n        super();\r\n        this.title = title;\r\n    }\r\n\r\n    @Column('text')\r\n    title!: string;\r\n\r\n    @Column('simple-array', { nullable: true })\r\n    haveAccessRoleId: Array<number>; //id Roles\r\n\r\n    @TreeParent({ onDelete: 'CASCADE' })\r\n    parent!: Branch\r\n\r\n    @TreeChildren({ cascade: true })\r\n    branches: Array<Branch>;\r\n\r\n    @ManyToOne(() => MainChat, (chat) => chat.branches, { onDelete: 'CASCADE' })\r\n    mainChat!: MainChat\r\n\r\n    @OneToMany(() => Message, (message) => message.chat, {\r\n        eager: true,\r\n        cascade: true\r\n    })\r\n    messages: Array<Message>;\r\n\r\n    @OneToMany(() => Message, (message) => message.chatPinned, {\r\n        eager: true,\r\n        cascade: true\r\n    })\r\n    pinnedMessage: Array<Message>;\r\n\r\n    @OneToMany(() => Message, (message) => message.chatPinnedForAll, {\r\n        eager: true,\r\n        cascade: true,\r\n    })\r\n    pinnedMessageForAll: Array<Message>;\r\n\r\n    @Column({ type: 'simple-json', nullable: true })\r\n    lastWatchedMessage: Array<ILastWatchedMessage>;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}