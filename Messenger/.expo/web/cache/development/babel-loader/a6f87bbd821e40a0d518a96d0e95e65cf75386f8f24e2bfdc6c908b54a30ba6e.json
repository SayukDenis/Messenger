{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { nanoid } from 'nanoid/non-secure';\nvar BaseRouter = {\n  getStateForAction: function getStateForAction(state, action) {\n    switch (action.type) {\n      case 'SET_PARAMS':\n        {\n          var index = action.source ? state.routes.findIndex(function (r) {\n            return r.key === action.source;\n          }) : state.index;\n          if (index === -1) {\n            return null;\n          }\n          return _objectSpread(_objectSpread({}, state), {}, {\n            routes: state.routes.map(function (r, i) {\n              return i === index ? _objectSpread(_objectSpread({}, r), {}, {\n                params: _objectSpread(_objectSpread({}, r.params), action.payload.params)\n              }) : r;\n            })\n          });\n        }\n      case 'RESET':\n        {\n          var nextState = action.payload;\n          if (nextState.routes.length === 0 || nextState.routes.some(function (route) {\n            return !state.routeNames.includes(route.name);\n          })) {\n            return null;\n          }\n          if (nextState.stale === false) {\n            if (state.routeNames.length !== nextState.routeNames.length || nextState.routeNames.some(function (name) {\n              return !state.routeNames.includes(name);\n            })) {\n              return null;\n            }\n            return _objectSpread(_objectSpread({}, nextState), {}, {\n              routes: nextState.routes.map(function (route) {\n                return route.key ? route : _objectSpread(_objectSpread({}, route), {}, {\n                  key: `${route.name}-${nanoid()}`\n                });\n              })\n            });\n          }\n          return nextState;\n        }\n      default:\n        return null;\n    }\n  },\n  shouldActionChangeFocus: function shouldActionChangeFocus(action) {\n    return action.type === 'NAVIGATE';\n  }\n};\nexport default BaseRouter;","map":{"version":3,"names":["nanoid","BaseRouter","getStateForAction","state","action","type","index","source","routes","findIndex","r","key","_objectSpread","map","i","params","payload","nextState","length","some","route","routeNames","includes","name","stale","shouldActionChangeFocus"],"sources":["D:\\project\\1project\\Messenger\\Messenger\\node_modules\\@react-navigation\\routers\\src\\BaseRouter.tsx"],"sourcesContent":["import { nanoid } from 'nanoid/non-secure';\r\n\r\nimport type {\r\n  CommonNavigationAction,\r\n  NavigationState,\r\n  PartialState,\r\n} from './types';\r\n\r\n/**\r\n * Base router object that can be used when writing custom routers.\r\n * This provides few helper methods to handle common actions such as `RESET`.\r\n */\r\nconst BaseRouter = {\r\n  getStateForAction<State extends NavigationState>(\r\n    state: State,\r\n    action: CommonNavigationAction\r\n  ): State | PartialState<State> | null {\r\n    switch (action.type) {\r\n      case 'SET_PARAMS': {\r\n        const index = action.source\r\n          ? state.routes.findIndex((r) => r.key === action.source)\r\n          : state.index;\r\n\r\n        if (index === -1) {\r\n          return null;\r\n        }\r\n\r\n        return {\r\n          ...state,\r\n          routes: state.routes.map((r, i) =>\r\n            i === index\r\n              ? { ...r, params: { ...r.params, ...action.payload.params } }\r\n              : r\r\n          ),\r\n        };\r\n      }\r\n\r\n      case 'RESET': {\r\n        const nextState = action.payload as State | PartialState<State>;\r\n\r\n        if (\r\n          nextState.routes.length === 0 ||\r\n          nextState.routes.some(\r\n            (route: { name: string }) => !state.routeNames.includes(route.name)\r\n          )\r\n        ) {\r\n          return null;\r\n        }\r\n\r\n        if (nextState.stale === false) {\r\n          if (\r\n            state.routeNames.length !== nextState.routeNames.length ||\r\n            nextState.routeNames.some(\r\n              (name) => !state.routeNames.includes(name)\r\n            )\r\n          ) {\r\n            return null;\r\n          }\r\n\r\n          return {\r\n            ...nextState,\r\n            routes: nextState.routes.map((route) =>\r\n              route.key ? route : { ...route, key: `${route.name}-${nanoid()}` }\r\n            ),\r\n          };\r\n        }\r\n\r\n        return nextState;\r\n      }\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  },\r\n\r\n  shouldActionChangeFocus(action: CommonNavigationAction) {\r\n    return action.type === 'NAVIGATE';\r\n  },\r\n};\r\n\r\nexport default BaseRouter;\r\n"],"mappings":";;;AAAA,SAASA,MAAM,QAAQ,mBAAmB;AAY1C,IAAMC,UAAU,GAAG;EACjBC,iBAAiB,WAAAA,kBACfC,KAAY,EACZC,MAA8B,EACM;IACpC,QAAQA,MAAM,CAACC,IAAI;MACjB,KAAK,YAAY;QAAE;UACjB,IAAMC,KAAK,GAAGF,MAAM,CAACG,MAAM,GACvBJ,KAAK,CAACK,MAAM,CAACC,SAAS,CAAE,UAAAC,CAAC;YAAA,OAAKA,CAAC,CAACC,GAAG,KAAKP,MAAM,CAACG,MAAM;UAAA,EAAC,GACtDJ,KAAK,CAACG,KAAK;UAEf,IAAIA,KAAK,KAAK,CAAC,CAAC,EAAE;YAChB,OAAO,IAAI;UACb;UAEA,OAAAM,aAAA,CAAAA,aAAA,KACKT,KAAK;YACRK,MAAM,EAAEL,KAAK,CAACK,MAAM,CAACK,GAAG,CAAC,UAACH,CAAC,EAAEI,CAAC;cAAA,OAC5BA,CAAC,KAAKR,KAAK,GAAAM,aAAA,CAAAA,aAAA,KACFF,CAAC;gBAAEK,MAAM,EAAAH,aAAA,CAAAA,aAAA,KAAOF,CAAC,CAACK,MAAM,GAAKX,MAAM,CAACY,OAAO,CAACD,MAAA;cAAO,KACxDL,CAAC;YAAA;UAAA;QAGX;MAEA,KAAK,OAAO;QAAE;UACZ,IAAMO,SAAS,GAAGb,MAAM,CAACY,OAAsC;UAE/D,IACEC,SAAS,CAACT,MAAM,CAACU,MAAM,KAAK,CAAC,IAC7BD,SAAS,CAACT,MAAM,CAACW,IAAI,CAClB,UAAAC,KAAuB;YAAA,OAAK,CAACjB,KAAK,CAACkB,UAAU,CAACC,QAAQ,CAACF,KAAK,CAACG,IAAI,CAAC;UAAA,EACpE,EACD;YACA,OAAO,IAAI;UACb;UAEA,IAAIN,SAAS,CAACO,KAAK,KAAK,KAAK,EAAE;YAC7B,IACErB,KAAK,CAACkB,UAAU,CAACH,MAAM,KAAKD,SAAS,CAACI,UAAU,CAACH,MAAM,IACvDD,SAAS,CAACI,UAAU,CAACF,IAAI,CACtB,UAAAI,IAAI;cAAA,OAAK,CAACpB,KAAK,CAACkB,UAAU,CAACC,QAAQ,CAACC,IAAI,CAAC;YAAA,EAC3C,EACD;cACA,OAAO,IAAI;YACb;YAEA,OAAAX,aAAA,CAAAA,aAAA,KACKK,SAAS;cACZT,MAAM,EAAES,SAAS,CAACT,MAAM,CAACK,GAAG,CAAE,UAAAO,KAAK;gBAAA,OACjCA,KAAK,CAACT,GAAG,GAAGS,KAAK,GAAAR,aAAA,CAAAA,aAAA,KAAQQ,KAAK;kBAAET,GAAG,EAAG,GAAES,KAAK,CAACG,IAAK,IAAGvB,MAAM,EAAG;gBAAA,EAAG;cAAA;YAAA;UAGxE;UAEA,OAAOiB,SAAS;QAClB;MAEA;QACE,OAAO,IAAI;IAAC;EAElB,CAAC;EAEDQ,uBAAuB,WAAAA,wBAACrB,MAA8B,EAAE;IACtD,OAAOA,MAAM,CAACC,IAAI,KAAK,UAAU;EACnC;AACF,CAAC;AAED,eAAeJ,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}